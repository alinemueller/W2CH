(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tasks = void 0;
var tasks = [{
  "_id": "01e0ba3c-0693-4017-9401-3ab6f017ad1e",
  "title": "Mietvertrag der neuen Wohnung unterzeichnen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "state": "default",
  "_updatedDate": "2018-11-30T12:45:22.056Z",
  "_createdDate": "2018-11-30T12:45:22.056Z"
}, {
  "_id": "5b8462d9-4321-436f-a6cf-39cc3502f79d",
  "title": "Form- und fristgerecht alte Wohnung kündigen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.055Z",
  "_createdDate": "2018-11-30T12:45:22.055Z"
}, {
  "_id": "a274c55a-9fef-4e37-a83f-32e541fd1e2b",
  "title": "Nachmieter suchen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.054Z",
  "_createdDate": "2018-11-30T12:45:22.054Z"
}, {
  "_id": "c02a0480-7918-4600-8b8e-246f075b5e9a",
  "title": "Auszugstermin mit altem Vermieter besprechen/vereinbaren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.053Z",
  "_createdDate": "2018-11-30T12:45:22.053Z"
}, {
  "_id": "c279ba1b-afe7-4e82-9d74-ea3858acdb10",
  "title": "Einzugstermin mit neuem Vermieter besprechen/vereinbaren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.052Z",
  "_createdDate": "2018-11-30T12:45:22.052Z"
}, {
  "_id": "c5cb79ec-77dc-41e7-b5d5-38e0486d7710",
  "title": "Ggf. Sonderurlaub bei Arbeitgeber einreichen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.051Z",
  "_createdDate": "2018-11-30T12:45:22.051Z"
}, {
  "_id": "bdbdf93b-a290-45df-8652-3e4a31742a17",
  "title": "Entscheiden, ob man für die Endreinigung der Wohnung ein Reinigungsinstitut beauftragt oder die Wohnung selbst putzt",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.050Z",
  "_createdDate": "2018-11-30T12:45:22.050Z"
}, {
  "_id": "3e889799-a541-48d9-a918-aa07770ddc16",
  "title": "Entscheiden, ob man für den Umzug ein Umzugsunternehmen beauftragt oder den Umzug selbst durchführt",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.049Z",
  "_createdDate": "2018-11-30T12:45:22.049Z"
}, {
  "_id": "b545f00a-ccd7-447a-aa50-26137d4300bf",
  "title": "Ggf. weitere Umzugshelfer organisieren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.048Z",
  "_createdDate": "2018-11-30T12:45:22.048Z"
}, {
  "_id": "69ffae68-5ee5-4d78-ac71-b7469e765df1",
  "title": "Offerten bei Umzugsunternehmen und/oder Reinigungsinstitut einholen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.047Z",
  "_createdDate": "2018-11-30T12:45:22.047Z"
}, {
  "_id": "82d51fde-f1ce-48fe-af71-0a45234028b3",
  "title": "Neue Wohnung ausmessen, bzw. Grundrissplan für die neue Wohnung anfordern",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.046Z",
  "_createdDate": "2018-11-30T12:45:22.046Z"
}, {
  "_id": "841f56b1-7d4a-4255-8822-fb01d95b2e4e",
  "title": "Einrichtung der neuen Wohnung planen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.045Z",
  "_createdDate": "2018-11-30T12:45:22.045Z"
}, {
  "_id": "05287b73-f471-43d4-bf1c-2c209739b3b2",
  "title": "Ggf. Neuanschaffungen an neue Adresse bestellen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.044Z",
  "_createdDate": "2018-11-30T12:45:22.044Z"
}, {
  "_id": "41966bff-d377-40af-b353-fff0bc0a95f7",
  "title": "Mitgliedschaften und Abos kündigen, bzw. über Umzug informieren (z.b. Vereine, Zeitschriften, Kundenkarten)",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.043Z",
  "_createdDate": "2018-11-30T12:45:22.043Z"
}];
exports.tasks = tasks;

},{}],2:[function(require,module,exports){
"use strict";
/*
  App
*/

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.add = add;
exports.get = get;
exports.setNode = setNode;
exports.getNode = getNode;
exports.merge = merge;
exports.Controller = exports.View = exports.Model = void 0;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var modules = [];
var currView, currModel;

function add(moduleName, M, V, C) {
  var view = currView = new V();
  var model = currModel = new M();
  var controller = new C();
  model.init();
  return modules[moduleName] = {
    model: model,
    view: view,
    controller: controller
  };
}

function get(moduleName) {
  return modules[moduleName];
}
/*
  Model
*/


var Model =
/*#__PURE__*/
function () {
  function Model() {
    _classCallCheck(this, Model);

    this.tree = {};
    this.callbacks = {
      setPre: [],
      setPost: [],
      change: []
    };
  }

  _createClass(Model, [{
    key: "init",
    value: function init() {
      // Run any callbacks registered during instantiation
      for (var p in this.callbacks) {
        if (this.callbacks.hasOwnProperty(p)) {
          this.runCallbacks(p);
        }
      }
    }
  }, {
    key: "setPre",
    value: function setPre(props) {
      // Allows validation etc. before setting props
      // `props` is a copy that can be safely mutated
      var callbacks = this.callbacks["setPre"];
      var i = callbacks.length;

      while (i--) {
        props = callbacks[i].call(this, props);
      }

      return props;
    }
  }, {
    key: "setPost",
    value: function setPost(props) {
      // Runs callbacks after `set()` whether model changed or not
      this.runCallbacks("setPost");
    }
  }, {
    key: "change",
    value: function change() {
      // Runs callbacks after `set()` if model changed
      this.runCallbacks("change");
    }
  }, {
    key: "set",
    value: function set(propsOrPath, value) {
      // Accepts props object `{...}` OR 'path', 'value'
      var changeEvent;

      if (isObject(propsOrPath)) {
        // Run any "setPre" callbacks on a copy of `props`
        var props = this.setPre(merge({}, propsOrPath));
        merge(this.tree, props, function (isChanged) {
          return changeEvent = isChanged;
        });
      } else {
        var path = propsOrPath; // Run any "setPre" callbacks

        value = this.setPre(_defineProperty({}, path, value))[path];
        changeEvent = setNode(this.tree, path, value);
      }

      if (changeEvent) {
        this.change();
      }

      this.setPost();
      return this; // For chaining
    }
  }, {
    key: "get",
    value: function get(path) {
      return getNode(this.tree, path);
    }
  }, {
    key: "on",
    value: function on(label, callback) {
      var callbacks = this.callbacks[label];

      if (callbacks) {
        callbacks.unshift(callback);
      }

      return this; // For chaining
    }
  }, {
    key: "runCallbacks",
    value: function runCallbacks(label) {
      var callbacks = this.callbacks[label];
      var i = callbacks.length;

      while (i--) {
        callbacks[i].call(this, this.tree);
      }
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      // Return tree for JSON.stringify()
      return this.tree;
    }
  }]);

  return Model;
}();
/*
  View
*/


exports.Model = Model;

var View =
/*#__PURE__*/
function () {
  function View() {// Derived class must assign `el` property

    _classCallCheck(this, View);
  }

  _createClass(View, [{
    key: "get",
    value: function get(selector) {
      return this.el.querySelector(selector);
    }
  }, {
    key: "getAll",
    value: function getAll(selector) {
      return this.el.querySelectorAll(selector);
    }
  }]);

  return View;
}();
/*
  Controller
*/


exports.View = View;

var Controller =
/*#__PURE__*/
function () {
  function Controller() {
    _classCallCheck(this, Controller);

    this.model = currModel;

    if (currView.el) {
      this.view = currView;
    } else {
      throw new Error('View.el required!');
    }

    currModel = null;
    currView = null;
  }

  _createClass(Controller, [{
    key: "bind",
    value: function bind(bindings) {
      // Run binding functions for selectors (within view.el)
      for (var selector in bindings) {
        if (bindings.hasOwnProperty(selector)) {
          var domEls = this.view.el.querySelectorAll(selector);
          var i = domEls.length;

          while (i--) {
            bindings[selector].call(this, domEls[i], this.model, this.view, this);
          }
        }
      }

      return this; // For chaining
    }
  }]);

  return Controller;
}();
/*
  Utils
*/


exports.Controller = Controller;

function isObject(o) {
  return o === Object(o) && !o.nodeType && !Array.isArray(o) && !(typeof o === 'function') && !(o instanceof RegExp);
}

function isNumeric(val) {
  return Number(parseFloat(val)) == val;
}

function setNode(tree, pathStr, value) {
  // Set node at path string to value
  // Any missing nodes are created
  // NOTE: all numeric nodes below root are assumed to be array indexes
  // Returns boolean `true` if value was changed
  var isChanged = false;
  getNode(tree, pathStr, function (currNode, prop, nextProp) {
    // Last segment of path string, set value if different
    if (nextProp === undefined) {
      var currVal = currNode[prop];

      if (value !== currVal) {
        currNode[prop] = value;
        isChanged = true;
      }
    } // Else create any missing nodes in path
    else if (currNode[prop] === undefined) {
        // Create an array if nextProp is numeric, otherwise an object
        currNode[prop] = isNumeric(nextProp) ? [] : {};
      }
  });
  return isChanged;
}

function getNode(tree, pathStr, eachCallback) {
  // Get node from path string
  // Optional `eachCallback` is passed (currNode, prop, nextProp)
  // This allows the next node to be created or changed before each traversal
  var pathArr = pathStr.split(".");
  var currNode = tree;

  for (var i = 0, len = pathArr.length; i < len; i++) {
    var prop = pathArr[i];

    if (eachCallback) {
      eachCallback(currNode, prop, pathArr[i + 1]);
    }

    if (currNode === undefined) break;else currNode = currNode[prop];
  }

  return currNode;
}

function merge()
/* [mergeChildObs,] {}, {} [, ...] [, callback] */
{
  // Add or overwrite all properties right to left
  // By default child objects are merged recursively (but not arrays)
  // If a boolean is supplied, it becomes `mergeChildObs` value until another boolean is found
  // If a callback is supplied, it will receive a boolean argument `isChanged`
  var level = 0,
      changeCount = 0,
      mergeChildObs = true,
      callback,
      result = run.apply(this, [0, arguments]);
  if (callback) callback(!!changeCount);
  return result;

  function run(level, params) {
    var param,
        retOb,
        paramsCount = params.length; // Child objects
    // Merge into leftmost param if an object, or create object to merge into

    if (level) {
      retOb = isObject(params[0]) ? params[0] : {};
    }

    for (var i = 0; i < paramsCount; i++) {
      param = params[i]; // Top level params may contain other arguments

      if (!level && param != null) {
        // `undefined` or `null`
        // First object becomes returned object
        // Also allow a DOM node for merging into
        if (!retOb && isObject(param) || param.nodeName) {
          retOb = param;
          continue;
        } // `mergeChildObs` boolean arguments


        if (typeof param === "boolean") {
          mergeChildObs = param;
          continue;
        } // Last passed in function becomes callback


        if (typeof param === "function") {
          callback = param;
          continue;
        }

        if (!retOb) continue;
      }

      for (var p in param) {
        if (param.hasOwnProperty(p)) {
          var val = param[p]; // Merge child objects (recursive)

          if (mergeChildObs && isObject(val)) {
            retOb[p] = run(level + 1, [retOb[p], val]);
          } else if (val !== retOb[p]) {
            changeCount++;
            retOb[p] = val;
          }
        }
      }
    }

    return retOb || {};
  }
}

},{}],3:[function(require,module,exports){
"use strict";

var _boot = _interopRequireDefault(require("./modules/boot/boot"));

var _todoform = _interopRequireDefault(require("./modules/todoForm/todoform"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

new _boot.default().then(function () {
  new _todoform.default();
});

},{"./modules/boot/boot":4,"./modules/todoForm/todoform":7}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/*
  Boot operations
*/
var _default =
/*#__PURE__*/
function () {
  function _default() {
    _classCallCheck(this, _default);

    return this.ready();
  }

  _createClass(_default, [{
    key: "ready",
    value: function ready() {
      return new Promise(function (resolve, reject) {
        document.addEventListener("DOMContentLoaded", function () {
          // Just a dummy condition
          if (/\w/.test(location.href)) {
            resolve();
          } else reject('Error');
        });
      });
    }
  }]);

  return _default;
}();

exports.default = _default;
;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var data = _interopRequireWildcard(require("../../json/data"));

var ToDoMessage = _interopRequireWildcard(require("./todomessage"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends `app.Controller`
      Properties: `model`, `view`
      Methods: `bind()` for DOM selectors
*/


var _default =
/*#__PURE__*/
function (_app$Controller) {
  _inherits(_default, _app$Controller);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this));

    _this.model.on('change', function (e) {
      console.log('model changed from controller ', e);

      _this.renderToDoItems();
    });

    window.onmessage = function (event) {
      _this.registerOnMessageReceivedHandler(event);
    };

    _this.bind({
      '#addBtn': function addBtn(el, model, view, controller) {
        el.onclick = function (e) {
          _this.addToDoItem(e);
        };
      }
    });

    _this.bind({
      '#debug': function debug(el, model, view, controller) {
        el.onclick = function (e) {
          _this.saveItems();
        };
      }
    });

    _this.bind({
      '#todolist': function todolist(el, model, view, controller) {
        el.onclick = function (e) {
          _this.saveItems();
        };
      }
    });

    _this.getItems();

    _this.sendMessageToWix(new ToDoMessage('init').get());

    return _this;
  }

  _createClass(_default, [{
    key: "sendMessageToWix",
    value: function sendMessageToWix(jsObj) {
      console.log('APP_ENV: sending to wix:', jsObj);
      window.parent.postMessage(jsObj, "*");
    }
  }, {
    key: "saveItems",
    value: function saveItems() {
      var _this2 = this;

      var message = {
        "dataToSave": function dataToSave() {
          return _this2.model.get("tasks").toJSON();
        }
      };
      this.view.get(".debugArea").innerHTML = JSON.stringify(this.model.get("tasks"));
    } //send object not literal

  }, {
    key: "getItems",
    value: function getItems() {
      var queryMessageString = new ToDoMessage('get');
      var qmObject = queryMessageString.get();
      this.sendMesssageToWix(qmObject);
    }
  }, {
    key: "registerOnMessageReceivedHandler",
    value: function registerOnMessageReceivedHandler(event) {
      console.log("APP_ENV: data received from wix in registerOnMessageReceivedHandler: ", event);

      if (event.data) {
        if (event.data.hasOwnProperty("save")) {
          var model = this.model.get('tasks');
          this.sendMessageToWix(model);
        }

        if (event.data.hasOwnProperty("tasks")) {
          this.model.set({
            'tasks': event.data.tasks
          });
        }
      }
    }
  }, {
    key: "createGuid",
    value: function createGuid() {
      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
        return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
      });
    }
  }, {
    key: "addToDoItem",
    value: function addToDoItem(el) {
      var title = this.view.get("#todo").value;
      var guid = this.createGuid();
      data.tasks.push({
        '_id': guid,
        'title': title,
        'state': "custom"
      });
      console.log('item added, model state:', this.model.get('tasks'));
      this.view.get("#todo").value = '';
    }
  }, {
    key: "setModelState",
    value: function setModelState(el) {
      var dataset = el.path.filter(function (e) {
        return e.tagName === 'LI';
      })[0].dataset;
      console.log(dataset);
      data.tasks.map(function (value, index, arr) {
        if (value._id === dataset.id) {
          value.state = dataset.state;
        }

        return value;
      });
      this.model.set({
        'tasks': data.tasks
      });
      this.sendMesssageToWix(this.model.get('tasks'));
    }
  }, {
    key: "renderToDoItems",
    value: function renderToDoItems() {
      var _this3 = this;

      // Click on a close button to hide the current list item
      var model = this.model.get("tasks");

      if (!model) {
        return;
      }

      var list = Array.prototype.map.call(model, function (item) {
        var _class = "";

        if (item.state === "deleted") {
          return "";
        }

        if (item.state === "completed") {
          _class = "checked";
        }

        return "<li data-state=\"".concat(!item.state ? "default" : item.state, "\" data-id=\"").concat(item._id, "\" class=\"").concat(_class ? "checked" : "", "\">\n                        <label class=\"checkbox-container ").concat(_class, "\"> \n                            <input type=\"checkbox\" class=\"").concat(_class ? "checked" : "", "\">").concat(item.title, "<span class=\"checkmark\"></span> \n                        </label><span class=\"close\">\xD7</span>\n                    </li>");
      });
      this.view.get("#todolist").innerHTML = list.join("");
      var close = this.view.getAll("span.close");

      var _loop = function _loop(i) {
        close[i].onclick = function (e) {
          e.preventDefault();
          var li = close[i].parentElement;
          li.style.display = "none";
          li.dataset.state = "deleted";

          _this3.setModelState(e);
        };
      };

      for (var i = 0; i < close.length; i++) {
        _loop(i);
      }

      var inputs = this.view.getAll("input");

      for (var i = 0; i < inputs.length; i++) {
        inputs[i].onclick = function (e) {
          console.log(e);
          var i = e.target;
        };
      }

      var listElements = this.view.getAll("li");

      for (var _i = 0; _i < listElements.length; _i++) {
        listElements[_i].onclick = function (e) {
          if (e.srcElement.tagName === "SPAN") return;
          var li;
          var input;

          if (e.target.tagName === 'LABEL') {
            li = e.srcElement.parentElement;
            input = e.srcElement.children[0];
          }

          if (e.target.tagName === 'SPAN') {
            li = e.srcElement.parentElement.parentElement;
            input = e.srcElement;
          }

          if (e.target.tagName === 'INPUT') {
            li = e.srcElement.parentElement.parentElement;
            input = e.srcElement;
          }

          if (e.target.tagName === 'LI') {
            li = e.srcElement;
            input = li.children[0].children[0];
          }

          if (input.checked) {
            li.classList.add('checked');
            li.dataset.state = "completed";
          } else {
            li.classList.remove('checked');
            li.dataset.state = "default";
          }

          _this3.setModelState(e);
        };
      }
    }
  }]);

  return _default;
}(app.Controller);

exports.default = _default;
;

},{"../../json/data":1,"../../lib/app":2,"./todomessage":8}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var tasks = _interopRequireWildcard(require("../../json/data"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends app.Model
      Methods: `set()`, `get()`, `on('setPre'|'setPost'|'change')`
*/


var _default =
/*#__PURE__*/
function (_app$Model) {
  _inherits(_default, _app$Model);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this));

    _this.on('change', function (e) {
      console.log('model changed from base model: ', e);
    });

    _this.sanitize = function (props) {
      for (var p in props) {
        if (props.hasOwnProperty(p) && typeof props[p] === "string") {
          props[p] = props[p].replace(/[^\w\s'!.,;]/g, '');
        }
      }

      return props;
    }; // Set listener


    _this.on('setPre', function (props) {
      return _this.sanitize(props);
    });

    _this.set({
      'tasks': {}
    }); // Set by path
    // this.set('user.name', 'Guest');


    return _this;
  }

  return _default;
}(app.Model);

exports.default = _default;
;

},{"../../json/data":1,"../../lib/app":2}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var _model = _interopRequireDefault(require("./model"));

var _view = _interopRequireDefault(require("./view"));

var _controller = _interopRequireDefault(require("./controller"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

"use strict";
/*
  Example module
*/


var _default = function _default() {
  _classCallCheck(this, _default);

  return app.add("ToDoForm", _model.default, _view.default, _controller.default);
};

exports.default = _default;
;

},{"../../lib/app":2,"./controller":5,"./model":6,"./view":9}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var _default =
/*#__PURE__*/
function () {
  function _default(type) {
    _classCallCheck(this, _default);

    if (type === 'init') {
      this.message = 'init';
    }

    if (type === 'get') {
      this.message = {
        "consumeData": {
          "key": "days",
          "param": 90,
          "collectionName": "MovementTasks"
        }
      };
    }

    this.message = msg;
  }

  _createClass(_default, [{
    key: "toJSON",
    value: function toJSON() {
      return JSON.stringify(this);
    }
  }, {
    key: "get",
    value: function get() {
      return this.message;
    }
  }]);

  return _default;
}();

exports.default = _default;

},{}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends app.View
      Properties: `el`
      Methods: `get()`, `getAll()` for DOM selectors
*/


var _default =
/*#__PURE__*/
function (_app$View) {
  _inherits(_default, _app$View);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this)); // Set DOM ref

    _this.el = document.getElementById("todosection");
    return _this;
  }

  return _default;
}(app.View);

exports.default = _default;
;

},{"../../lib/app":2}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvanNvbi9kYXRhLmpzIiwic3JjL2pzL2xpYi9hcHAuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2R1bGVzL2Jvb3QvYm9vdC5qcyIsInNyYy9qcy9tb2R1bGVzL3RvZG9Gb3JtL2NvbnRyb2xsZXIuanMiLCJzcmMvanMvbW9kdWxlcy90b2RvRm9ybS9tb2RlbC5qcyIsInNyYy9qcy9tb2R1bGVzL3RvZG9Gb3JtL3RvZG9mb3JtLmpzIiwic3JjL2pzL21vZHVsZXMvdG9kb0Zvcm0vdG9kb21lc3NhZ2UuanMiLCJzcmMvanMvbW9kdWxlcy90b2RvRm9ybS92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7Ozs7OztBQUNPLElBQUksS0FBSyxHQUFJLENBQ2hCO0FBQ0UsU0FBTyxzQ0FEVDtBQUVFLFdBQVMsNkNBRlg7QUFHRSxVQUFRLEVBSFY7QUFJRSxxQkFBbUIsQ0FKckI7QUFLRSxZQUFVLHNDQUxaO0FBTUUsV0FBUyxTQU5YO0FBT0Usa0JBQWdCLDBCQVBsQjtBQVFFLGtCQUFnQjtBQVJsQixDQURnQixFQVdoQjtBQUNFLFNBQU8sc0NBRFQ7QUFFRSxXQUFTLDhDQUZYO0FBR0UsVUFBUSxFQUhWO0FBSUUscUJBQW1CLENBSnJCO0FBS0UsWUFBVSxzQ0FMWjtBQU1FLGtCQUFnQiwwQkFObEI7QUFPRSxrQkFBZ0I7QUFQbEIsQ0FYZ0IsRUFvQmhCO0FBQ0UsU0FBTyxzQ0FEVDtBQUVFLFdBQVMsbUJBRlg7QUFHRSxVQUFRLEVBSFY7QUFJRSxxQkFBbUIsQ0FKckI7QUFLRSxZQUFVLHNDQUxaO0FBTUUsa0JBQWdCLDBCQU5sQjtBQU9FLGtCQUFnQjtBQVBsQixDQXBCZ0IsRUE2QmhCO0FBQ0UsU0FBTyxzQ0FEVDtBQUVFLFdBQVMsMERBRlg7QUFHRSxVQUFRLEVBSFY7QUFJRSxxQkFBbUIsQ0FKckI7QUFLRSxZQUFVLHNDQUxaO0FBTUUs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QUFBQyxpQkFBUSxNQUFUO0FBQWlCLG1CQUFTLEVBQTFCO0FBQThCLDRCQUFrQjtBQUFoRDtBQUFqQixPQUFoQjtBQUNGOztBQUVELFNBQUssT0FBTCxHQUFlLEdBQWY7QUFDSDs7Ozs2QkFDTztBQUNKLGFBQU8sSUFBSSxDQUFDLFNBQUwsQ0FBZSxJQUFmLENBQVA7QUFDSDs7OzBCQUVJO0FBQ0QsYUFBTyxLQUFLLE9BQVo7QUFDSDs7Ozs7Ozs7Ozs7Ozs7OztBQ25CTDs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFFQTs7Ozs7Ozs7Ozs7O0FBT0ksc0JBQWM7QUFBQTs7QUFBQTs7QUFDVixtRkFEVSxDQUdWOztBQUNBLFVBQUssRUFBTCxHQUFVLFFBQVEsQ0FBQyxjQUFULENBQXdCLGFBQXhCLENBQVY7QUFKVTtBQUtiOzs7RUFQd0IsR0FBRyxDQUFDLEk7OztBQVNoQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIid1c2Ugc3RyaWN0JztcclxuZXhwb3J0IGxldCB0YXNrcyA9ICBbXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiMDFlMGJhM2MtMDY5My00MDE3LTk0MDEtM2FiNmYwMTdhZDFlXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJNaWV0dmVydHJhZyBkZXIgbmV1ZW4gV29obnVuZyB1bnRlcnplaWNobmVuXCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJzdGF0ZVwiOiBcImRlZmF1bHRcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA1NlpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA1NlpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCI1Yjg0NjJkOS00MzIxLTQzNmYtYTZjZi0zOWNjMzUwMmY3OWRcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIkZvcm0tIHVuZCBmcmlzdGdlcmVjaHQgYWx0ZSBXb2hudW5nIGvDvG5kaWdlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTVaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTVaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiYTI3NGM1NWEtOWZlZi00ZTM3LWE4M2YtMzJlNTQxZmQxZTJiXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJOYWNobWlldGVyIHN1Y2hlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTRaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTRaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiYzAyYTA0ODAtNzkxOC00NjAwLThiOGUtMjQ2ZjA3NWI1ZTlhXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJBdXN6dWdzdGVybWluIG1pdCBhbHRlbSBWZXJtaWV0ZXIgYmVzcHJlY2hlbi92ZXJlaW5iYXJlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTNaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTNaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiYzI3OWJhMWItYWZlNy00ZTgyLTlkNzQtZWEzODU4YWNkYjEwXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJFaW56dWdzdGVybWluIG1pdCBuZXVlbSBWZXJtaWV0ZXIgYmVzcHJlY2hlbi92ZXJlaW5iYXJlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTJaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTJaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiYzVjYjc5ZWMtNzdkYy00MWU3LWI1ZDUtMzhlMDQ4NmQ3NzEwXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJHZ2YuIFNvbmRlcnVybGF1YiBiZWkgQXJiZWl0Z2ViZXIgZWlucmVpY2hlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTFaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTFaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiYmRiZGY5M2ItYTI5MC00NWRmLTg2NTItM2U0YTMxNzQyYTE3XCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJFbnRzY2hlaWRlbiwgb2IgbWFuIGbDvHIgZGllIEVuZHJlaW5pZ3VuZyBkZXIgV29obnVuZyBlaW4gUmVpbmlndW5nc2luc3RpdHV0IGJlYXVmdHJhZ3Qgb2RlciBkaWUgV29obnVuZyBzZWxic3QgcHV0enRcIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUwWlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUwWlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjNlODg5Nzk5LWE1NDEtNDhkOS1hOTE4LWFhMDc3NzBkZGMxNlwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiRW50c2NoZWlkZW4sIG9iIG1hbiBmw7xyIGRlbiBVbXp1ZyBlaW4gVW16dWdzdW50ZXJuZWhtZW4gYmVhdWZ0cmFndCBvZGVyIGRlbiBVbXp1ZyBzZWxic3QgZHVyY2hmw7xocnRcIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ5WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ5WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImI1NDVmMDBhLWNjZDctNDQ3YS1hYTUwLTI2MTM3ZDQzMDBiZlwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiR2dmLiB3ZWl0ZXJlIFVtenVnc2hlbGZlciBvcmdhbmlzaWVyZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ4WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ4WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjY5ZmZhZTY4LTVlZTUtNGQ3OC1hYzcxLWI3NDY5ZTc2NWRmMVwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiT2ZmZXJ0ZW4gYmVpIFVtenVnc3VudGVybmVobWVuIHVuZC9vZGVyIFJlaW5pZ3VuZ3NpbnN0aXR1dCBlaW5ob2xlblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDdaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDdaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiODJkNTFmZGUtZjFjZS00OGZlLWFmNzEtMGE0NTIzNDAyOGIzXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJOZXVlIFdvaG51bmcgYXVzbWVzc2VuLCBiencuIEdydW5kcmlzc3BsYW4gZsO8ciBkaWUgbmV1ZSBXb2hudW5nIGFuZm9yZGVyblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDZaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDZaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiODQxZjU2YjEtN2Q0YS00MjU1LTg4MjItZmIwMWQ5NWIyZTRlXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJFaW5yaWNodHVuZyBkZXIgbmV1ZW4gV29obnVuZyBwbGFuZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ1WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ1WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjA1Mjg3YjczLWY0NzEtNDNkNC1iZjFjLTJjMjA5NzM5YjNiMlwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiR2dmLiBOZXVhbnNjaGFmZnVuZ2VuIGFuIG5ldWUgQWRyZXNzZSBiZXN0ZWxsZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ0WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ0WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjQxOTY2YmZmLWQzNzctNDBhZi1iMzUzLWZmZjBiYzBhOTVmN1wiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiTWl0Z2xpZWRzY2hhZnRlbiB1bmQgQWJvcyBrw7xuZGlnZW4sIGJ6dy4gw7xiZXIgVW16dWcgaW5mb3JtaWVyZW4gKHouYi4gVmVyZWluZSwgWmVpdHNjaHJpZnRlbiwgS3VuZGVua2FydGVuKVwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDNaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNDNaXCJcclxuICAgIH1cclxuICBdOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLypcclxuICBBcHBcclxuKi9cclxuY29uc3QgbW9kdWxlcyA9IFtdO1xyXG5sZXQgY3VyclZpZXcsIGN1cnJNb2RlbDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGQobW9kdWxlTmFtZSwgTSwgViwgQykge1xyXG4gICAgY29uc3QgdmlldyA9IGN1cnJWaWV3ID0gbmV3IFYoKTtcclxuICAgIGNvbnN0IG1vZGVsID0gY3Vyck1vZGVsID0gbmV3IE0oKTtcclxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQygpO1xyXG4gICAgbW9kZWwuaW5pdCgpO1xyXG5cclxuICAgIHJldHVybiAobW9kdWxlc1ttb2R1bGVOYW1lXSA9IHtcclxuICAgICAgICBtb2RlbDogbW9kZWwsXHJcbiAgICAgICAgdmlldzogdmlldyxcclxuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyXHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldChtb2R1bGVOYW1lKSB7XHJcbiAgICByZXR1cm4gbW9kdWxlc1ttb2R1bGVOYW1lXTtcclxufVxyXG5cclxuLypcclxuICBNb2RlbFxyXG4qL1xyXG5leHBvcnQgY2xhc3MgTW9kZWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudHJlZSA9IHt9O1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBzZXRQcmU6IFtdLFxyXG4gICAgICAgICAgICBzZXRQb3N0OiBbXSxcclxuICAgICAgICAgICAgY2hhbmdlOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvLyBSdW4gYW55IGNhbGxiYWNrcyByZWdpc3RlcmVkIGR1cmluZyBpbnN0YW50aWF0aW9uXHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiB0aGlzLmNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsYmFja3MuaGFzT3duUHJvcGVydHkocCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucnVuQ2FsbGJhY2tzKHApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFByZShwcm9wcykge1xyXG4gICAgICAgIC8vIEFsbG93cyB2YWxpZGF0aW9uIGV0Yy4gYmVmb3JlIHNldHRpbmcgcHJvcHNcclxuICAgICAgICAvLyBgcHJvcHNgIGlzIGEgY29weSB0aGF0IGNhbiBiZSBzYWZlbHkgbXV0YXRlZFxyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzW1wic2V0UHJlXCJdO1xyXG4gICAgICAgIGxldCBpID0gY2FsbGJhY2tzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIHByb3BzID0gY2FsbGJhY2tzW2ldLmNhbGwodGhpcywgcHJvcHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvcHM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zdChwcm9wcykge1xyXG4gICAgICAgIC8vIFJ1bnMgY2FsbGJhY2tzIGFmdGVyIGBzZXQoKWAgd2hldGhlciBtb2RlbCBjaGFuZ2VkIG9yIG5vdFxyXG4gICAgICAgIHRoaXMucnVuQ2FsbGJhY2tzKFwic2V0UG9zdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2UoKSB7XHJcbiAgICAgICAgLy8gUnVucyBjYWxsYmFja3MgYWZ0ZXIgYHNldCgpYCBpZiBtb2RlbCBjaGFuZ2VkXHJcbiAgICAgICAgdGhpcy5ydW5DYWxsYmFja3MoXCJjaGFuZ2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KHByb3BzT3JQYXRoLCB2YWx1ZSkge1xyXG4gICAgICAgIC8vIEFjY2VwdHMgcHJvcHMgb2JqZWN0IGB7Li4ufWAgT1IgJ3BhdGgnLCAndmFsdWUnXHJcbiAgICAgICAgbGV0IGNoYW5nZUV2ZW50O1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QocHJvcHNPclBhdGgpKSB7XHJcbiAgICAgICAgICAgIC8vIFJ1biBhbnkgXCJzZXRQcmVcIiBjYWxsYmFja3Mgb24gYSBjb3B5IG9mIGBwcm9wc2BcclxuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnNldFByZShtZXJnZSh7fSwgcHJvcHNPclBhdGgpKTtcclxuICAgICAgICAgICAgbWVyZ2UodGhpcy50cmVlLCBwcm9wcywgaXNDaGFuZ2VkID0+IGNoYW5nZUV2ZW50ID0gaXNDaGFuZ2VkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSBwcm9wc09yUGF0aDtcclxuICAgICAgICAgICAgLy8gUnVuIGFueSBcInNldFByZVwiIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuc2V0UHJlKHsgW3BhdGhdOiB2YWx1ZSB9KVtwYXRoXTtcclxuICAgICAgICAgICAgY2hhbmdlRXZlbnQgPSBzZXROb2RlKHRoaXMudHJlZSwgcGF0aCwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhbmdlRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRQb3N0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7IC8vIEZvciBjaGFpbmluZ1xyXG4gICAgfVxyXG5cclxuICAgIGdldChwYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldE5vZGUodGhpcy50cmVlLCBwYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbihsYWJlbCwgY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc1tsYWJlbF07XHJcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MudW5zaGlmdChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzOyAvLyBGb3IgY2hhaW5pbmdcclxuICAgIH1cclxuXHJcbiAgICBydW5DYWxsYmFja3MobGFiZWwpIHtcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc1tsYWJlbF07XHJcbiAgICAgICAgbGV0IGkgPSBjYWxsYmFja3MubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgY2FsbGJhY2tzW2ldLmNhbGwodGhpcywgdGhpcy50cmVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdG9KU09OKCkge1xyXG4gICAgICAgIC8vIFJldHVybiB0cmVlIGZvciBKU09OLnN0cmluZ2lmeSgpXHJcbiAgICAgICAgcmV0dXJuIHRoaXMudHJlZTtcclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICBWaWV3XHJcbiovXHJcbmV4cG9ydCBjbGFzcyBWaWV3IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvLyBEZXJpdmVkIGNsYXNzIG11c3QgYXNzaWduIGBlbGAgcHJvcGVydHlcclxuICAgIH1cclxuXHJcbiAgICBnZXQoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGwoc2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgIH1cclxufVxyXG5cclxuLypcclxuICBDb250cm9sbGVyXHJcbiovXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sbGVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gY3Vyck1vZGVsO1xyXG4gICAgICAgIGlmIChjdXJyVmlldy5lbCkge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcgPSBjdXJyVmlldztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IChuZXcgRXJyb3IoJ1ZpZXcuZWwgcmVxdWlyZWQhJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyTW9kZWwgPSBudWxsO1xyXG4gICAgICAgIGN1cnJWaWV3ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBiaW5kKGJpbmRpbmdzKSB7XHJcbiAgICAgICAgLy8gUnVuIGJpbmRpbmcgZnVuY3Rpb25zIGZvciBzZWxlY3RvcnMgKHdpdGhpbiB2aWV3LmVsKVxyXG4gICAgICAgIGZvciAoY29uc3Qgc2VsZWN0b3IgaW4gYmluZGluZ3MpIHtcclxuICAgICAgICAgICAgaWYgKGJpbmRpbmdzLmhhc093blByb3BlcnR5KHNlbGVjdG9yKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9tRWxzID0gdGhpcy52aWV3LmVsLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGkgPSBkb21FbHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpbmRpbmdzW3NlbGVjdG9yXS5jYWxsKHRoaXMsIGRvbUVsc1tpXSwgdGhpcy5tb2RlbCwgdGhpcy52aWV3LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpczsgLy8gRm9yIGNoYWluaW5nXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgVXRpbHNcclxuKi9cclxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xyXG4gICAgcmV0dXJuIG8gPT09IE9iamVjdChvKSAmJlxyXG4gICAgICAgICFvLm5vZGVUeXBlICYmXHJcbiAgICAgICAgIUFycmF5LmlzQXJyYXkobykgJiZcclxuICAgICAgICAhKHR5cGVvZiBvID09PSAnZnVuY3Rpb24nKSAmJlxyXG4gICAgICAgICEobyBpbnN0YW5jZW9mIFJlZ0V4cCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTnVtZXJpYyh2YWwpIHtcclxuICAgIHJldHVybiBOdW1iZXIocGFyc2VGbG9hdCh2YWwpKSA9PSB2YWw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXROb2RlKHRyZWUsIHBhdGhTdHIsIHZhbHVlKSB7XHJcbiAgICAvLyBTZXQgbm9kZSBhdCBwYXRoIHN0cmluZyB0byB2YWx1ZVxyXG4gICAgLy8gQW55IG1pc3Npbmcgbm9kZXMgYXJlIGNyZWF0ZWRcclxuICAgIC8vIE5PVEU6IGFsbCBudW1lcmljIG5vZGVzIGJlbG93IHJvb3QgYXJlIGFzc3VtZWQgdG8gYmUgYXJyYXkgaW5kZXhlc1xyXG4gICAgLy8gUmV0dXJucyBib29sZWFuIGB0cnVlYCBpZiB2YWx1ZSB3YXMgY2hhbmdlZFxyXG4gICAgbGV0IGlzQ2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuICAgIGdldE5vZGUodHJlZSwgcGF0aFN0ciwgKGN1cnJOb2RlLCBwcm9wLCBuZXh0UHJvcCkgPT4ge1xyXG4gICAgICAgIC8vIExhc3Qgc2VnbWVudCBvZiBwYXRoIHN0cmluZywgc2V0IHZhbHVlIGlmIGRpZmZlcmVudFxyXG4gICAgICAgIGlmIChuZXh0UHJvcCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJWYWwgPSBjdXJyTm9kZVtwcm9wXTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBjdXJyVmFsKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyTm9kZVtwcm9wXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaXNDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFbHNlIGNyZWF0ZSBhbnkgbWlzc2luZyBub2RlcyBpbiBwYXRoXHJcbiAgICAgICAgZWxzZSBpZiAoY3Vyck5vZGVbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYW4gYXJyYXkgaWYgbmV4dFByb3AgaXMgbnVtZXJpYywgb3RoZXJ3aXNlIGFuIG9iamVjdFxyXG4gICAgICAgICAgICBjdXJyTm9kZVtwcm9wXSA9IGlzTnVtZXJpYyhuZXh0UHJvcCkgPyBbXSA6IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGlzQ2hhbmdlZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGUodHJlZSwgcGF0aFN0ciwgZWFjaENhbGxiYWNrKSB7XHJcbiAgICAvLyBHZXQgbm9kZSBmcm9tIHBhdGggc3RyaW5nXHJcbiAgICAvLyBPcHRpb25hbCBgZWFjaENhbGxiYWNrYCBpcyBwYXNzZWQgKGN1cnJOb2RlLCBwcm9wLCBuZXh0UHJvcClcclxuICAgIC8vIFRoaXMgYWxsb3dzIHRoZSBuZXh0IG5vZGUgdG8gYmUgY3JlYXRlZCBvciBjaGFuZ2VkIGJlZm9yZSBlYWNoIHRyYXZlcnNhbFxyXG4gICAgY29uc3QgcGF0aEFyciA9IHBhdGhTdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgbGV0IGN1cnJOb2RlID0gdHJlZTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGF0aEFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgIGNvbnN0IHByb3AgPSBwYXRoQXJyW2ldO1xyXG4gICAgICAgIGlmIChlYWNoQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZWFjaENhbGxiYWNrKGN1cnJOb2RlLCBwcm9wLCBwYXRoQXJyW2kgKyAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyTm9kZSA9PT0gdW5kZWZpbmVkKSBicmVhaztcclxuICAgICAgICBlbHNlIGN1cnJOb2RlID0gY3Vyck5vZGVbcHJvcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3Vyck5vZGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSggLyogW21lcmdlQ2hpbGRPYnMsXSB7fSwge30gWywgLi4uXSBbLCBjYWxsYmFja10gKi8pIHtcclxuICAgIC8vIEFkZCBvciBvdmVyd3JpdGUgYWxsIHByb3BlcnRpZXMgcmlnaHQgdG8gbGVmdFxyXG4gICAgLy8gQnkgZGVmYXVsdCBjaGlsZCBvYmplY3RzIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkgKGJ1dCBub3QgYXJyYXlzKVxyXG4gICAgLy8gSWYgYSBib29sZWFuIGlzIHN1cHBsaWVkLCBpdCBiZWNvbWVzIGBtZXJnZUNoaWxkT2JzYCB2YWx1ZSB1bnRpbCBhbm90aGVyIGJvb2xlYW4gaXMgZm91bmRcclxuICAgIC8vIElmIGEgY2FsbGJhY2sgaXMgc3VwcGxpZWQsIGl0IHdpbGwgcmVjZWl2ZSBhIGJvb2xlYW4gYXJndW1lbnQgYGlzQ2hhbmdlZGBcclxuICAgIGxldCBsZXZlbCA9IDAsXHJcbiAgICAgICAgY2hhbmdlQ291bnQgPSAwLFxyXG4gICAgICAgIG1lcmdlQ2hpbGRPYnMgPSB0cnVlLFxyXG4gICAgICAgIGNhbGxiYWNrLFxyXG4gICAgICAgIHJlc3VsdCA9IHJ1bi5hcHBseSh0aGlzLCBbMCwgYXJndW1lbnRzXSk7XHJcblxyXG4gICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayghIWNoYW5nZUNvdW50KTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcblxyXG4gICAgZnVuY3Rpb24gcnVuKGxldmVsLCBwYXJhbXMpIHtcclxuICAgICAgICBsZXQgcGFyYW0sXHJcbiAgICAgICAgICAgIHJldE9iLFxyXG4gICAgICAgICAgICBwYXJhbXNDb3VudCA9IHBhcmFtcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIENoaWxkIG9iamVjdHNcclxuICAgICAgICAvLyBNZXJnZSBpbnRvIGxlZnRtb3N0IHBhcmFtIGlmIGFuIG9iamVjdCwgb3IgY3JlYXRlIG9iamVjdCB0byBtZXJnZSBpbnRvXHJcbiAgICAgICAgaWYgKGxldmVsKSB7XHJcbiAgICAgICAgICAgIHJldE9iID0gaXNPYmplY3QocGFyYW1zWzBdKSA/IHBhcmFtc1swXSA6IHt9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtc0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgcGFyYW0gPSBwYXJhbXNbaV07XHJcblxyXG4gICAgICAgICAgICAvLyBUb3AgbGV2ZWwgcGFyYW1zIG1heSBjb250YWluIG90aGVyIGFyZ3VtZW50c1xyXG4gICAgICAgICAgICBpZiAoIWxldmVsICYmIHBhcmFtICE9IG51bGwpIHsgLy8gYHVuZGVmaW5lZGAgb3IgYG51bGxgXHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCBvYmplY3QgYmVjb21lcyByZXR1cm5lZCBvYmplY3RcclxuICAgICAgICAgICAgICAgIC8vIEFsc28gYWxsb3cgYSBET00gbm9kZSBmb3IgbWVyZ2luZyBpbnRvXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldE9iICYmIGlzT2JqZWN0KHBhcmFtKSB8fCBwYXJhbS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldE9iID0gcGFyYW07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBgbWVyZ2VDaGlsZE9ic2AgYm9vbGVhbiBhcmd1bWVudHNcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwiYm9vbGVhblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VDaGlsZE9icyA9IHBhcmFtO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTGFzdCBwYXNzZWQgaW4gZnVuY3Rpb24gYmVjb21lcyBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBwYXJhbTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghcmV0T2IpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBwYXJhbSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLmhhc093blByb3BlcnR5KHApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyYW1bcF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1lcmdlIGNoaWxkIG9iamVjdHMgKHJlY3Vyc2l2ZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVyZ2VDaGlsZE9icyAmJiBpc09iamVjdCh2YWwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldE9iW3BdID0gcnVuKGxldmVsICsgMSwgW3JldE9iW3BdLCB2YWxdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsICE9PSByZXRPYltwXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRPYltwXSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJldE9iIHx8IHt9O1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBCb290IGZyb20gXCIuL21vZHVsZXMvYm9vdC9ib290XCI7XHJcbmltcG9ydCBUb0RvRm9ybSBmcm9tIFwiLi9tb2R1bGVzL3RvZG9Gb3JtL3RvZG9mb3JtXCI7XHJcblxyXG5uZXcgQm9vdCgpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgbmV3IFRvRG9Gb3JtKCk7XHJcbiAgICB9KTtcclxuIiwiLypcclxuICBCb290IG9wZXJhdGlvbnNcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVhZHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBKdXN0IGEgZHVtbXkgY29uZGl0aW9uXHJcbiAgICAgICAgICAgICAgICBpZiAoL1xcdy8udGVzdChsb2NhdGlvbi5ocmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgcmVqZWN0KCdFcnJvcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG5cclxufTtcclxuIiwiaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuLi8uLi9saWIvYXBwXCI7XHJcbmltcG9ydCAqIGFzIGRhdGEgZnJvbSBcIi4uLy4uL2pzb24vZGF0YVwiO1xyXG5pbXBvcnQgKiBhcyBUb0RvTWVzc2FnZSBmcm9tIFwiLi90b2RvbWVzc2FnZVwiO1xyXG5cInVzZSBzdHJpY3RcIlxyXG5cclxuLypcclxuICBFeHRlbmRzIGBhcHAuQ29udHJvbGxlcmBcclxuICAgICAgUHJvcGVydGllczogYG1vZGVsYCwgYHZpZXdgXHJcbiAgICAgIE1ldGhvZHM6IGBiaW5kKClgIGZvciBET00gc2VsZWN0b3JzXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgYXBwLkNvbnRyb2xsZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5vbignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ21vZGVsIGNoYW5nZWQgZnJvbSBjb250cm9sbGVyICcsIGUpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclRvRG9JdGVtcygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3cub25tZXNzYWdlID0gZXZlbnQgPT4geyB0aGlzLnJlZ2lzdGVyT25NZXNzYWdlUmVjZWl2ZWRIYW5kbGVyKGV2ZW50KSB9O1xyXG4gICAgICAgIHRoaXMuYmluZCh7XHJcbiAgICAgICAgICAgICcjYWRkQnRuJzogKGVsLCBtb2RlbCwgdmlldywgY29udHJvbGxlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZWwub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb0RvSXRlbShlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmluZCh7XHJcbiAgICAgICAgICAgICcjZGVidWcnOiAoZWwsIG1vZGVsLCB2aWV3LCBjb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmluZCh7XHJcbiAgICAgICAgICAgICcjdG9kb2xpc3QnOiAoZWwsIG1vZGVsLCB2aWV3LCBjb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmdldEl0ZW1zKCk7XHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVRvV2l4KG5ldyBUb0RvTWVzc2FnZSgnaW5pdCcpLmdldCgpKTtcclxuICAgIH1cclxuICAgIHNlbmRNZXNzYWdlVG9XaXgoanNPYmopIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQVBQX0VOVjogc2VuZGluZyB0byB3aXg6JywganNPYmopXHJcbiAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShqc09iaiwgXCIqXCIpO1xyXG4gICAgfVxyXG4gICAgc2F2ZUl0ZW1zKCkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0geyBcImRhdGFUb1NhdmVcIjogKCkgPT4gdGhpcy5tb2RlbC5nZXQoXCJ0YXNrc1wiKS50b0pTT04oKSB9O1xyXG4gICAgICAgIHRoaXMudmlldy5nZXQoXCIuZGVidWdBcmVhXCIpLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHRoaXMubW9kZWwuZ2V0KFwidGFza3NcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vc2VuZCBvYmplY3Qgbm90IGxpdGVyYWxcclxuICAgIGdldEl0ZW1zKCkge1xyXG4gICAgICAgIGxldCBxdWVyeU1lc3NhZ2VTdHJpbmcgPSBuZXcgVG9Eb01lc3NhZ2UoJ2dldCcpO1xyXG4gICAgICAgIGNvbnN0IHFtT2JqZWN0ID0gcXVlcnlNZXNzYWdlU3RyaW5nLmdldCgpO1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NzYWdlVG9XaXgocW1PYmplY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyT25NZXNzYWdlUmVjZWl2ZWRIYW5kbGVyKGV2ZW50KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJBUFBfRU5WOiBkYXRhIHJlY2VpdmVkIGZyb20gd2l4IGluIHJlZ2lzdGVyT25NZXNzYWdlUmVjZWl2ZWRIYW5kbGVyOiBcIiwgZXZlbnQpO1xyXG4gICAgICAgIGlmIChldmVudC5kYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICggZXZlbnQuZGF0YS5oYXNPd25Qcm9wZXJ0eShcInNhdmVcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHRoaXMubW9kZWwuZ2V0KCd0YXNrcycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVRvV2l4KG1vZGVsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIGV2ZW50LmRhdGEuaGFzT3duUHJvcGVydHkoXCJ0YXNrc1wiKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5zZXQoeyAndGFza3MnOiBldmVudC5kYXRhLnRhc2tzIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUd1aWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIChbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+XHJcbiAgICAgICAgICAgIChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGFkZFRvRG9JdGVtKGVsKSB7XHJcbiAgICAgICAgbGV0IHRpdGxlID0gdGhpcy52aWV3LmdldChcIiN0b2RvXCIpLnZhbHVlO1xyXG4gICAgICAgIGxldCBndWlkID0gdGhpcy5jcmVhdGVHdWlkKCk7XHJcbiAgICAgICAgZGF0YS50YXNrcy5wdXNoKHsgJ19pZCc6IGd1aWQsICd0aXRsZSc6IHRpdGxlLCAnc3RhdGUnOiBcImN1c3RvbVwiIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpdGVtIGFkZGVkLCBtb2RlbCBzdGF0ZTonLCB0aGlzLm1vZGVsLmdldCgndGFza3MnKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy52aWV3LmdldChcIiN0b2RvXCIpLnZhbHVlID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0TW9kZWxTdGF0ZShlbCkge1xyXG4gICAgICAgIGxldCBkYXRhc2V0ID0gZWwucGF0aC5maWx0ZXIoZSA9PiBlLnRhZ05hbWUgPT09ICdMSScpWzBdLmRhdGFzZXQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YXNldCk7XHJcbiAgICAgICAgZGF0YS50YXNrcy5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5faWQgPT09IGRhdGFzZXQuaWQpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlLnN0YXRlID0gZGF0YXNldC5zdGF0ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5zZXQoeyAndGFza3MnOiBkYXRhLnRhc2tzIH0pO1xyXG4gICAgICAgIHRoaXMuc2VuZE1lc3NzYWdlVG9XaXgodGhpcy5tb2RlbC5nZXQoJ3Rhc2tzJykpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclRvRG9JdGVtcygpIHtcclxuICAgICAgICAvLyBDbGljayBvbiBhIGNsb3NlIGJ1dHRvbiB0byBoaWRlIHRoZSBjdXJyZW50IGxpc3QgaXRlbVxyXG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubW9kZWwuZ2V0KFwidGFza3NcIik7XHJcbiAgICAgICAgaWYgKCFtb2RlbCkgeyByZXR1cm47IH1cclxuICAgICAgICBsZXQgbGlzdCA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChtb2RlbCwgKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgbGV0IF9jbGFzcyA9IFwiXCI7XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnN0YXRlID09PSBcImRlbGV0ZWRcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcclxuICAgICAgICAgICAgICAgIF9jbGFzcyA9IFwiY2hlY2tlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBgPGxpIGRhdGEtc3RhdGU9XCIkeyFpdGVtLnN0YXRlID8gXCJkZWZhdWx0XCIgOiBpdGVtLnN0YXRlfVwiIGRhdGEtaWQ9XCIke2l0ZW0uX2lkfVwiIGNsYXNzPVwiJHtfY2xhc3MgPyBcImNoZWNrZWRcIiA6IFwiXCJ9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWNvbnRhaW5lciAke19jbGFzc31cIj4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCIke19jbGFzcyA/IFwiY2hlY2tlZFwiIDogXCJcIn1cIj4ke2l0ZW0udGl0bGV9PHNwYW4gY2xhc3M9XCJjaGVja21hcmtcIj48L3NwYW4+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPjxzcGFuIGNsYXNzPVwiY2xvc2VcIj7Dlzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPmBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy52aWV3LmdldChcIiN0b2RvbGlzdFwiKS5pbm5lckhUTUwgPSBsaXN0LmpvaW4oXCJcIik7XHJcbiAgICAgICAgbGV0IGNsb3NlID0gdGhpcy52aWV3LmdldEFsbChcInNwYW4uY2xvc2VcIik7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvc2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2xvc2VbaV0ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGkgPSBjbG9zZVtpXS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgbGkuZGF0YXNldC5zdGF0ZSA9IFwiZGVsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNb2RlbFN0YXRlKGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW5wdXRzID0gdGhpcy52aWV3LmdldEFsbChcImlucHV0XCIpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpbnB1dHNbaV0ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIGxldCBpID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGxpc3RFbGVtZW50cyA9IHRoaXMudmlldy5nZXRBbGwoXCJsaVwiKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RFbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsaXN0RWxlbWVudHNbaV0ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3JjRWxlbWVudC50YWdOYW1lID09PSBcIlNQQU5cIikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdMQUJFTCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSBlLnNyY0VsZW1lbnQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBlLnNyY0VsZW1lbnQuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lID09PSAnU1BBTicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSBlLnNyY0VsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSBlLnNyY0VsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT09ICdMSScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSBlLnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gbGkuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpLmRhdGFzZXQuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGkuZGF0YXNldC5zdGF0ZSA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGVsU3RhdGUoZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG59OyIsImltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi4vLi4vbGliL2FwcFwiO1xyXG5pbXBvcnQgKiBhcyB0YXNrcyAgIGZyb20gXCIuLi8uLi9qc29uL2RhdGFcIlxyXG5cInVzZSBzdHJpY3RcIlxyXG5cclxuLypcclxuICBFeHRlbmRzIGFwcC5Nb2RlbFxyXG4gICAgICBNZXRob2RzOiBgc2V0KClgLCBgZ2V0KClgLCBgb24oJ3NldFByZSd8J3NldFBvc3QnfCdjaGFuZ2UnKWBcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBhcHAuTW9kZWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICBcclxuICAgICAgICB0aGlzLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbW9kZWwgY2hhbmdlZCBmcm9tIGJhc2UgbW9kZWw6ICcsIGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2FuaXRpemUgPSBwcm9wcyA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHApICYmIHR5cGVvZiBwcm9wc1twXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3BdID0gcHJvcHNbcF0ucmVwbGFjZSgvW15cXHdcXHMnIS4sO10vZywgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMub24oJ3NldFByZScsIHByb3BzID0+IHRoaXMuc2FuaXRpemUocHJvcHMpKTtcclxuICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2V0KHsndGFza3MnOiB7fX0pO1xyXG4gICAgICAgIC8vIFNldCBieSBwYXRoXHJcbiAgICAgICAvLyB0aGlzLnNldCgndXNlci5uYW1lJywgJ0d1ZXN0Jyk7XHJcbiAgICB9XHJcblxyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBhcHAgZnJvbSBcIi4uLy4uL2xpYi9hcHBcIjtcclxuaW1wb3J0IE1vZGVsIGZyb20gXCIuL21vZGVsXCJcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4vdmlld1wiXHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJcIlxyXG5cclxuXCJ1c2Ugc3RyaWN0XCJcclxuXHJcbi8qXHJcbiAgRXhhbXBsZSBtb2R1bGVcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBhcHAuYWRkKFwiVG9Eb0Zvcm1cIiwgTW9kZWwsIFZpZXcsIENvbnRyb2xsZXIpO1xyXG4gICAgfVxyXG5cclxufTtcclxuIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzICB7XHJcbiAgICBjb25zdHJ1Y3RvciAodHlwZSl7XHJcblxyXG4gICAgICAgIGlmKHR5cGUgPT09ICdpbml0Jyl7XHJcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdpbml0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoIHR5cGUgPT09ICdnZXQnICl7XHJcbiAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gIHsgXCJjb25zdW1lRGF0YVwiOiB7XCJrZXlcIiA6IFwiZGF5c1wiLCBcInBhcmFtXCI6IDkwLCBcImNvbGxlY3Rpb25OYW1lXCI6IFwiTW92ZW1lbnRUYXNrc1wifX07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1zZztcclxuICAgIH1cclxuICAgIHRvSlNPTigpe1xyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzKTtcclxuICAgIH1cclxuICAgXHJcbiAgICBnZXQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuLi8uLi9saWIvYXBwXCI7XHJcblxyXG5cInVzZSBzdHJpY3RcIlxyXG5cclxuLypcclxuICBFeHRlbmRzIGFwcC5WaWV3XHJcbiAgICAgIFByb3BlcnRpZXM6IGBlbGBcclxuICAgICAgTWV0aG9kczogYGdldCgpYCwgYGdldEFsbCgpYCBmb3IgRE9NIHNlbGVjdG9yc1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIGFwcC5WaWV3IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgXHJcbiAgICAgICAgLy8gU2V0IERPTSByZWZcclxuICAgICAgICB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b2Rvc2VjdGlvblwiKTtcclxuICAgIH1cclxuXHJcbn07XHJcbiJdfQ==
