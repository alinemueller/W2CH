(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.tasks = void 0;
var tasks = [{
  "_id": "01e0ba3c-0693-4017-9401-3ab6f017ad1e",
  "title": "Mietvertrag der neuen Wohnung unterzeichnen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "state": "default",
  "_updatedDate": "2018-11-30T12:45:22.056Z",
  "_createdDate": "2018-11-30T12:45:22.056Z"
}, {
  "_id": "5b8462d9-4321-436f-a6cf-39cc3502f79d",
  "title": "Form- und fristgerecht alte Wohnung kündigen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.055Z",
  "_createdDate": "2018-11-30T12:45:22.055Z"
}, {
  "_id": "a274c55a-9fef-4e37-a83f-32e541fd1e2b",
  "title": "Nachmieter suchen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.054Z",
  "_createdDate": "2018-11-30T12:45:22.054Z"
}, {
  "_id": "c02a0480-7918-4600-8b8e-246f075b5e9a",
  "title": "Auszugstermin mit altem Vermieter besprechen/vereinbaren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.053Z",
  "_createdDate": "2018-11-30T12:45:22.053Z"
}, {
  "_id": "c279ba1b-afe7-4e82-9d74-ea3858acdb10",
  "title": "Einzugstermin mit neuem Vermieter besprechen/vereinbaren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.052Z",
  "_createdDate": "2018-11-30T12:45:22.052Z"
}, {
  "_id": "c5cb79ec-77dc-41e7-b5d5-38e0486d7710",
  "title": "Ggf. Sonderurlaub bei Arbeitgeber einreichen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.051Z",
  "_createdDate": "2018-11-30T12:45:22.051Z"
}, {
  "_id": "bdbdf93b-a290-45df-8652-3e4a31742a17",
  "title": "Entscheiden, ob man für die Endreinigung der Wohnung ein Reinigungsinstitut beauftragt oder die Wohnung selbst putzt",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.050Z",
  "_createdDate": "2018-11-30T12:45:22.050Z"
}, {
  "_id": "3e889799-a541-48d9-a918-aa07770ddc16",
  "title": "Entscheiden, ob man für den Umzug ein Umzugsunternehmen beauftragt oder den Umzug selbst durchführt",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.049Z",
  "_createdDate": "2018-11-30T12:45:22.049Z"
}, {
  "_id": "b545f00a-ccd7-447a-aa50-26137d4300bf",
  "title": "Ggf. weitere Umzugshelfer organisieren",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.048Z",
  "_createdDate": "2018-11-30T12:45:22.048Z"
}, {
  "_id": "69ffae68-5ee5-4d78-ac71-b7469e765df1",
  "title": "Offerten bei Umzugsunternehmen und/oder Reinigungsinstitut einholen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.047Z",
  "_createdDate": "2018-11-30T12:45:22.047Z"
}, {
  "_id": "82d51fde-f1ce-48fe-af71-0a45234028b3",
  "title": "Neue Wohnung ausmessen, bzw. Grundrissplan für die neue Wohnung anfordern",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.046Z",
  "_createdDate": "2018-11-30T12:45:22.046Z"
}, {
  "_id": "841f56b1-7d4a-4255-8822-fb01d95b2e4e",
  "title": "Einrichtung der neuen Wohnung planen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.045Z",
  "_createdDate": "2018-11-30T12:45:22.045Z"
}, {
  "_id": "05287b73-f471-43d4-bf1c-2c209739b3b2",
  "title": "Ggf. Neuanschaffungen an neue Adresse bestellen",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.044Z",
  "_createdDate": "2018-11-30T12:45:22.044Z"
}, {
  "_id": "41966bff-d377-40af-b353-fff0bc0a95f7",
  "title": "Mitgliedschaften und Abos kündigen, bzw. über Umzug informieren (z.b. Vereine, Zeitschriften, Kundenkarten)",
  "days": 90,
  "days_after_move": 0,
  "_owner": "3d46bfaa-05c7-4ef9-bf5f-4ad37fb493d2",
  "_updatedDate": "2018-11-30T12:45:22.043Z",
  "_createdDate": "2018-11-30T12:45:22.043Z"
}];
exports.tasks = tasks;

},{}],2:[function(require,module,exports){
"use strict";
/*
  App
*/

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.add = add;
exports.get = get;
exports.setNode = setNode;
exports.getNode = getNode;
exports.merge = merge;
exports.Controller = exports.View = exports.Model = void 0;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var modules = [];
var currView, currModel;

function add(moduleName, M, V, C) {
  var view = currView = new V();
  var model = currModel = new M();
  var controller = new C();
  model.init();
  return modules[moduleName] = {
    model: model,
    view: view,
    controller: controller
  };
}

function get(moduleName) {
  return modules[moduleName];
}
/*
  Model
*/


var Model =
/*#__PURE__*/
function () {
  function Model() {
    _classCallCheck(this, Model);

    this.tree = {};
    this.callbacks = {
      setPre: [],
      setPost: [],
      change: []
    };
  }

  _createClass(Model, [{
    key: "init",
    value: function init() {
      // Run any callbacks registered during instantiation
      for (var p in this.callbacks) {
        if (this.callbacks.hasOwnProperty(p)) {
          this.runCallbacks(p);
        }
      }
    }
  }, {
    key: "setPre",
    value: function setPre(props) {
      // Allows validation etc. before setting props
      // `props` is a copy that can be safely mutated
      var callbacks = this.callbacks["setPre"];
      var i = callbacks.length;

      while (i--) {
        props = callbacks[i].call(this, props);
      }

      return props;
    }
  }, {
    key: "setPost",
    value: function setPost(props) {
      // Runs callbacks after `set()` whether model changed or not
      this.runCallbacks("setPost");
    }
  }, {
    key: "change",
    value: function change() {
      // Runs callbacks after `set()` if model changed
      this.runCallbacks("change");
    }
  }, {
    key: "set",
    value: function set(propsOrPath, value) {
      // Accepts props object `{...}` OR 'path', 'value'
      var changeEvent;

      if (isObject(propsOrPath)) {
        // Run any "setPre" callbacks on a copy of `props`
        var props = this.setPre(merge({}, propsOrPath));
        merge(this.tree, props, function (isChanged) {
          return changeEvent = isChanged;
        });
      } else {
        var path = propsOrPath; // Run any "setPre" callbacks

        value = this.setPre(_defineProperty({}, path, value))[path];
        changeEvent = setNode(this.tree, path, value);
      }

      if (changeEvent) {
        this.change();
      }

      this.setPost();
      return this; // For chaining
    }
  }, {
    key: "get",
    value: function get(path) {
      return getNode(this.tree, path);
    }
  }, {
    key: "on",
    value: function on(label, callback) {
      var callbacks = this.callbacks[label];

      if (callbacks) {
        callbacks.unshift(callback);
      }

      return this; // For chaining
    }
  }, {
    key: "runCallbacks",
    value: function runCallbacks(label) {
      var callbacks = this.callbacks[label];
      var i = callbacks.length;

      while (i--) {
        callbacks[i].call(this, this.tree);
      }
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      // Return tree for JSON.stringify()
      return this.tree;
    }
  }]);

  return Model;
}();
/*
  View
*/


exports.Model = Model;

var View =
/*#__PURE__*/
function () {
  function View() {// Derived class must assign `el` property

    _classCallCheck(this, View);
  }

  _createClass(View, [{
    key: "get",
    value: function get(selector) {
      return this.el.querySelector(selector);
    }
  }, {
    key: "getAll",
    value: function getAll(selector) {
      return this.el.querySelectorAll(selector);
    }
  }]);

  return View;
}();
/*
  Controller
*/


exports.View = View;

var Controller =
/*#__PURE__*/
function () {
  function Controller() {
    _classCallCheck(this, Controller);

    this.model = currModel;

    if (currView.el) {
      this.view = currView;
    } else {
      throw new Error('View.el required!');
    }

    currModel = null;
    currView = null;
  }

  _createClass(Controller, [{
    key: "bind",
    value: function bind(bindings) {
      // Run binding functions for selectors (within view.el)
      for (var selector in bindings) {
        if (bindings.hasOwnProperty(selector)) {
          var domEls = this.view.el.querySelectorAll(selector);
          var i = domEls.length;

          while (i--) {
            bindings[selector].call(this, domEls[i], this.model, this.view, this);
          }
        }
      }

      return this; // For chaining
    }
  }]);

  return Controller;
}();
/*
  Utils
*/


exports.Controller = Controller;

function isObject(o) {
  return o === Object(o) && !o.nodeType && !Array.isArray(o) && !(typeof o === 'function') && !(o instanceof RegExp);
}

function isNumeric(val) {
  return Number(parseFloat(val)) == val;
}

function setNode(tree, pathStr, value) {
  // Set node at path string to value
  // Any missing nodes are created
  // NOTE: all numeric nodes below root are assumed to be array indexes
  // Returns boolean `true` if value was changed
  var isChanged = false;
  getNode(tree, pathStr, function (currNode, prop, nextProp) {
    // Last segment of path string, set value if different
    if (nextProp === undefined) {
      var currVal = currNode[prop];

      if (value !== currVal) {
        currNode[prop] = value;
        isChanged = true;
      }
    } // Else create any missing nodes in path
    else if (currNode[prop] === undefined) {
        // Create an array if nextProp is numeric, otherwise an object
        currNode[prop] = isNumeric(nextProp) ? [] : {};
      }
  });
  return isChanged;
}

function getNode(tree, pathStr, eachCallback) {
  // Get node from path string
  // Optional `eachCallback` is passed (currNode, prop, nextProp)
  // This allows the next node to be created or changed before each traversal
  var pathArr = pathStr.split(".");
  var currNode = tree;

  for (var i = 0, len = pathArr.length; i < len; i++) {
    var prop = pathArr[i];

    if (eachCallback) {
      eachCallback(currNode, prop, pathArr[i + 1]);
    }

    if (currNode === undefined) break;else currNode = currNode[prop];
  }

  return currNode;
}

function merge()
/* [mergeChildObs,] {}, {} [, ...] [, callback] */
{
  // Add or overwrite all properties right to left
  // By default child objects are merged recursively (but not arrays)
  // If a boolean is supplied, it becomes `mergeChildObs` value until another boolean is found
  // If a callback is supplied, it will receive a boolean argument `isChanged`
  var level = 0,
      changeCount = 0,
      mergeChildObs = true,
      callback,
      result = run.apply(this, [0, arguments]);
  if (callback) callback(!!changeCount);
  return result;

  function run(level, params) {
    var param,
        retOb,
        paramsCount = params.length; // Child objects
    // Merge into leftmost param if an object, or create object to merge into

    if (level) {
      retOb = isObject(params[0]) ? params[0] : {};
    }

    for (var i = 0; i < paramsCount; i++) {
      param = params[i]; // Top level params may contain other arguments

      if (!level && param != null) {
        // `undefined` or `null`
        // First object becomes returned object
        // Also allow a DOM node for merging into
        if (!retOb && isObject(param) || param.nodeName) {
          retOb = param;
          continue;
        } // `mergeChildObs` boolean arguments


        if (typeof param === "boolean") {
          mergeChildObs = param;
          continue;
        } // Last passed in function becomes callback


        if (typeof param === "function") {
          callback = param;
          continue;
        }

        if (!retOb) continue;
      }

      for (var p in param) {
        if (param.hasOwnProperty(p)) {
          var val = param[p]; // Merge child objects (recursive)

          if (mergeChildObs && isObject(val)) {
            retOb[p] = run(level + 1, [retOb[p], val]);
          } else if (val !== retOb[p]) {
            changeCount++;
            retOb[p] = val;
          }
        }
      }
    }

    return retOb || {};
  }
}

},{}],3:[function(require,module,exports){
"use strict";

var _boot = _interopRequireDefault(require("./modules/boot/boot"));

var _todoform = _interopRequireDefault(require("./modules/todoForm/todoform"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

new _boot.default().then(function () {
  new _todoform.default();
});

},{"./modules/boot/boot":4,"./modules/todoForm/todoform":7}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/*
  Boot operations
*/
var _default =
/*#__PURE__*/
function () {
  function _default() {
    _classCallCheck(this, _default);

    return this.ready();
  }

  _createClass(_default, [{
    key: "ready",
    value: function ready() {
      return new Promise(function (resolve, reject) {
        document.addEventListener("DOMContentLoaded", function () {
          // Just a dummy condition
          if (/\w/.test(location.href)) {
            resolve();
          } else reject('Error');
        });
      });
    }
  }]);

  return _default;
}();

exports.default = _default;
;

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var data = _interopRequireWildcard(require("../../json/data"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends `app.Controller`
      Properties: `model`, `view`
      Methods: `bind()` for DOM selectors
*/


var _default =
/*#__PURE__*/
function (_app$Controller) {
  _inherits(_default, _app$Controller);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this));

    _this.model.on('change', function (e) {
      console.log('model changed from controller ', e);

      _this.renderToDoItems();
    });

    window.onmessage = function (event) {
      _this.registerOnMessageReceivedHandler(event);
    };

    _this.bind({
      '#addBtn': function addBtn(el, model, view, controller) {
        el.onclick = function (e) {
          _this.addToDoItem();
        };
      }
    });

    _this.bind({
      '#debug': function debug(el, model, view, controller) {
        el.onclick = function (e) {
          _this.saveItems();
        };
      }
    });

    _this.bind({
      '#todolist': function todolist(el, model, view, controller) {
        el.onchange = function (e) {
          console.log(e, model);
        };
      }
    });

    _this.getItems();

    window.parent.postMessage(data, "*");
    return _this;
  }

  _createClass(_default, [{
    key: "saveItems",
    value: function saveItems() {
      var _this2 = this;

      var message = {
        "dataToSave": function dataToSave() {
          return _this2.model.get("tasks").toJSON();
        }
      }; //let qmObject = JSON.parse(message);

      this.view.get(".debugArea").innerHTML = JSON.stringify(this.model.get("tasks"));
    } //send object not literal

  }, {
    key: "getItems",
    value: function getItems() {
      var queryMessageString = '{"consumeRequest": {"key" : "days", "param": 90, "collectionName": "MovementTasks"}}';
      var qmObject = JSON.parse(queryMessageString);
      window.parent.postMessage(qmObject, "*");
    }
  }, {
    key: "registerOnMessageReceivedHandler",
    value: function registerOnMessageReceivedHandler(event) {
      console.log("APP_ENV: incoming data", event);

      if (event.data) {
        console.log("APP_ENV: data received in registerOnMessageReceivedHandler handler", event);

        if (event.data && event.data.hasOwnProperty("save")) {}

        if (event.data) {
          this.model.set({
            'tasks': event.data.tasks
          });
        }
      }
    }
  }, {
    key: "createGuid",
    value: function createGuid() {
      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
        return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
      });
    }
  }, {
    key: "addToDoItem",
    value: function addToDoItem(el) {
      var title = this.view.get("#todo").value;
      var guid = this.createGuid();
      data.tasks.push({
        '_id': guid,
        'title': title,
        'state': "custom"
      });
      window.parent.postMessage(data, "*");
      this.view.get("#todo").value = '';
    }
  }, {
    key: "setModelState",
    value: function setModelState(el) {
      //console.log('remove to do item', el.path.filter((e)=>e.indexOf('li')!==-1));
      var dataset = el.path.filter(function (e) {
        return e.tagName === 'LI';
      })[0].dataset;
      console.log(dataset);
      data.tasks.map(function (value, index, arr) {
        if (value._id === dataset.id) {
          value.state = dataset.state;
        }

        return value;
      });
      this.model.set({
        'tasks': data.tasks
      });
    }
  }, {
    key: "renderToDoItems",
    value: function renderToDoItems() {
      var _this3 = this;

      // Click on a close button to hide the current list item
      var model = this.model.get("tasks");

      if (!model) {
        return;
      }

      var list = Array.prototype.map.call(model, function (item) {
        var _class = "";

        if (item.state === "deleted") {
          return "";
        }

        if (item.state === "completed") {
          _class = "checked";
        }

        return "<li data-state=\"".concat(!item.state ? "default" : item.state, "\" data-id=\"").concat(item._id, "\" class=\"").concat(_class ? "checked" : "", "\">\n                        <label class=\"checkbox-container ").concat(_class, "\"> \n                            <input type=\"checkbox\" class=\"").concat(_class ? "checked" : "", "\">").concat(item.title, "<span class=\"checkmark\"></span> \n                        </label><span class=\"close\">\xD7</span>\n                    </li>");
      });
      this.view.get("#todolist").innerHTML = list.join("");
      var close = this.view.getAll("span.close");

      var _loop = function _loop(i) {
        close[i].onclick = function (e) {
          e.preventDefault();
          var li = close[i].parentElement;
          li.style.display = "none";
          li.dataset.state = "deleted";

          _this3.setModelState(e);
        };
      };

      for (var i = 0; i < close.length; i++) {
        _loop(i);
      }

      var inputs = this.view.getAll("input");

      for (var i = 0; i < inputs.length; i++) {
        inputs[i].onclick = function (e) {
          console.log(e);
          var i = e.target;
        };
      }

      var listElements = this.view.getAll("li");

      for (var _i = 0; _i < listElements.length; _i++) {
        listElements[_i].onclick = function (e) {
          if (e.srcElement.tagName === "SPAN") return; //e.preventDefault();

          var li;
          var input;

          if (e.target.tagName === 'LABEL') {
            li = e.srcElement.parentElement;
            input = e.srcElement.children[0];
          }

          if (e.target.tagName === 'SPAN') {
            li = e.srcElement.parentElement.parentElement;
            input = e.srcElement;
          }

          if (e.target.tagName === 'INPUT') {
            li = e.srcElement.parentElement.parentElement;
            input = e.srcElement;
          }

          if (e.target.tagName === 'LI') {
            li = e.srcElement;
            input = li.children[0].children[0]; // li.classList.add('checked');
          }

          console.log(li, input);

          if (input.checked) {
            //li["classList"].toggle("checked");
            li.classList.add('checked');
            li.dataset.state = "completed";
          } else {
            li.classList.remove('checked'); //li["classList"].toggle("checked");

            li.dataset.state = "default";
          } // if(li["classList"].contains("checked")){
          //     li["classList"].toggle("checked");
          //     li.dataset.state ="completed";
          //     input.checked=true;
          // }else{
          //     li["classList"].toggle("checked");
          //     li.dataset.state ="default";
          //     input.checked=false;
          // }


          _this3.setModelState(e);
        };
      }
    }
  }]);

  return _default;
}(app.Controller);

exports.default = _default;
;

},{"../../json/data":1,"../../lib/app":2}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var tasks = _interopRequireWildcard(require("../../json/data"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends app.Model
      Methods: `set()`, `get()`, `on('setPre'|'setPost'|'change')`
*/


var _default =
/*#__PURE__*/
function (_app$Model) {
  _inherits(_default, _app$Model);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this));

    _this.on('change', function (e) {
      console.log('model changed from base model: ', e);
    });

    _this.sanitize = function (props) {
      for (var p in props) {
        if (props.hasOwnProperty(p) && typeof props[p] === "string") {
          props[p] = props[p].replace(/[^\w\s'!.,;]/g, '');
        }
      }

      return props;
    }; // Set listener


    _this.on('setPre', function (props) {
      return _this.sanitize(props);
    });

    _this.set({
      'tasks': {}
    }); // Set by path
    // this.set('user.name', 'Guest');


    return _this;
  }

  return _default;
}(app.Model);

exports.default = _default;
;

},{"../../json/data":1,"../../lib/app":2}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

var _model = _interopRequireDefault(require("./model"));

var _view = _interopRequireDefault(require("./view"));

var _controller = _interopRequireDefault(require("./controller"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

"use strict";
/*
  Example module
*/


var _default = function _default() {
  _classCallCheck(this, _default);

  return app.add("ToDoForm", _model.default, _view.default, _controller.default);
};

exports.default = _default;
;

},{"../../lib/app":2,"./controller":5,"./model":6,"./view":8}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var app = _interopRequireWildcard(require("../../lib/app"));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

"use strict";
/*
  Extends app.View
      Properties: `el`
      Methods: `get()`, `getAll()` for DOM selectors
*/


var _default =
/*#__PURE__*/
function (_app$View) {
  _inherits(_default, _app$View);

  function _default() {
    var _this;

    _classCallCheck(this, _default);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this)); // Set DOM ref

    _this.el = document.getElementById("todosection");
    return _this;
  }

  return _default;
}(app.View);

exports.default = _default;
;

},{"../../lib/app":2}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvanNvbi9kYXRhLmpzIiwic3JjL2pzL2xpYi9hcHAuanMiLCJzcmMvanMvbWFpbi5qcyIsInNyYy9qcy9tb2R1bGVzL2Jvb3QvYm9vdC5qcyIsInNyYy9qcy9tb2R1bGVzL3RvZG9Gb3JtL2NvbnRyb2xsZXIuanMiLCJzcmMvanMvbW9kdWxlcy90b2RvRm9ybS9tb2RlbC5qcyIsInNyYy9qcy9tb2R1bGVzL3RvZG9Gb3JtL3RvZG9mb3JtLmpzIiwic3JjL2pzL21vZHVsZXMvdG9kb0Zvcm0vdmlldy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOzs7Ozs7QUFDTyxJQUFJLEtBQUssR0FBSSxDQUNoQjtBQUNFLFNBQU8sc0NBRFQ7QUFFRSxXQUFTLDZDQUZYO0FBR0UsVUFBUSxFQUhWO0FBSUUscUJBQW1CLENBSnJCO0FBS0UsWUFBVSxzQ0FMWjtBQU1FLFdBQVMsU0FOWDtBQU9FLGtCQUFnQiwwQkFQbEI7QUFRRSxrQkFBZ0I7QUFSbEIsQ0FEZ0IsRUFXaEI7QUFDRSxTQUFPLHNDQURUO0FBRUUsV0FBUyw4Q0FGWDtBQUdFLFVBQVEsRUFIVjtBQUlFLHFCQUFtQixDQUpyQjtBQUtFLFlBQVUsc0NBTFo7QUFNRSxrQkFBZ0IsMEJBTmxCO0FBT0Usa0JBQWdCO0FBUGxCLENBWGdCLEVBb0JoQjtBQUNFLFNBQU8sc0NBRFQ7QUFFRSxXQUFTLG1CQUZYO0FBR0UsVUFBUSxFQUhWO0FBSUUscUJBQW1CLENBSnJCO0FBS0UsWUFBVSxzQ0FMWjtBQU1FLGtCQUFnQiwwQkFObEI7QUFPRSxrQkFBZ0I7QUFQbEIsQ0FwQmdCLEVBNkJoQjtBQUNFLFNBQU8sc0NBRFQ7QUFFRSxXQUFTLDBEQUZYO0FBR0UsVUFBUSxFQUhWO0FBSUUscUJBQW1CLENBSnJCO0FBS0UsWUFBVSxzQ0FMWjtBQU1FLGtCQUFnQiwwQkFObEI7QUFPRSxrQkFBZ0I7QUFQbEIsQ0E3QmdCLEVB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Q3JCLFdBQUssSUFBTSxDQUFYLElBQWdCLEtBQWhCLEVBQXVCO0FBQ25CLFlBQUksS0FBSyxDQUFDLGNBQU4sQ0FBcUIsQ0FBckIsS0FBMkIsT0FBTyxLQUFLLENBQUMsQ0FBRCxDQUFaLEtBQW9CLFFBQW5ELEVBQTZEO0FBQ3pELFVBQUEsS0FBSyxDQUFDLENBQUQsQ0FBTCxHQUFXLEtBQUssQ0FBQyxDQUFELENBQUwsQ0FBUyxPQUFULENBQWlCLGVBQWpCLEVBQWtDLEVBQWxDLENBQVg7QUFDSDtBQUNKOztBQUNELGFBQU8sS0FBUDtBQUNILEtBUEQsQ0FOVSxDQWVWOzs7QUFDQSxVQUFLLEVBQUwsQ0FBUSxRQUFSLEVBQWtCLFVBQUEsS0FBSztBQUFBLGFBQUksTUFBSyxRQUFMLENBQWMsS0FBZCxDQUFKO0FBQUEsS0FBdkI7O0FBRUEsVUFBSyxHQUFMLENBQVM7QUFBQyxlQUFTO0FBQVYsS0FBVCxFQWxCVSxDQW1CVjtBQUNEOzs7QUFwQlc7QUFxQmI7OztFQXZCd0IsR0FBRyxDQUFDLEs7OztBQXlCaEM7Ozs7Ozs7Ozs7QUNqQ0Q7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7O0FBRUE7QUFFQTs7Ozs7ZUFLSSxvQkFBYztBQUFBOztBQUNWLFNBQU8sR0FBRyxDQUFDLEdBQUosQ0FBUSxVQUFSLEVBQW9CLGNBQXBCLEVBQTJCLGFBQTNCLEVBQWlDLG1CQUFqQyxDQUFQO0FBQ0gsQzs7O0FBRUo7Ozs7Ozs7Ozs7QUNoQkQ7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0FBRUE7Ozs7Ozs7Ozs7OztBQU9JLHNCQUFjO0FBQUE7O0FBQUE7O0FBQ1YsbUZBRFUsQ0FHVjs7QUFDQSxVQUFLLEVBQUwsR0FBVSxRQUFRLENBQUMsY0FBVCxDQUF3QixhQUF4QixDQUFWO0FBSlU7QUFLYjs7O0VBUHdCLEdBQUcsQ0FBQyxJOzs7QUFTaEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIndXNlIHN0cmljdCc7XHJcbmV4cG9ydCBsZXQgdGFza3MgPSAgW1xyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjAxZTBiYTNjLTA2OTMtNDAxNy05NDAxLTNhYjZmMDE3YWQxZVwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiTWlldHZlcnRyYWcgZGVyIG5ldWVuIFdvaG51bmcgdW50ZXJ6ZWljaG5lblwiLFxyXG4gICAgICBcImRheXNcIjogOTAsXHJcbiAgICAgIFwiZGF5c19hZnRlcl9tb3ZlXCI6IDAsXHJcbiAgICAgIFwiX293bmVyXCI6IFwiM2Q0NmJmYWEtMDVjNy00ZWY5LWJmNWYtNGFkMzdmYjQ5M2QyXCIsXHJcbiAgICAgIFwic3RhdGVcIjogXCJkZWZhdWx0XCIsXHJcbiAgICAgIFwiX3VwZGF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTZaXCIsXHJcbiAgICAgIFwiX2NyZWF0ZWREYXRlXCI6IFwiMjAxOC0xMS0zMFQxMjo0NToyMi4wNTZaXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwiX2lkXCI6IFwiNWI4NDYyZDktNDMyMS00MzZmLWE2Y2YtMzljYzM1MDJmNzlkXCIsXHJcbiAgICAgIFwidGl0bGVcIjogXCJGb3JtLSB1bmQgZnJpc3RnZXJlY2h0IGFsdGUgV29obnVuZyBrw7xuZGlnZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDU1WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDU1WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImEyNzRjNTVhLTlmZWYtNGUzNy1hODNmLTMyZTU0MWZkMWUyYlwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiTmFjaG1pZXRlciBzdWNoZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDU0WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDU0WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImMwMmEwNDgwLTc5MTgtNDYwMC04YjhlLTI0NmYwNzViNWU5YVwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiQXVzenVnc3Rlcm1pbiBtaXQgYWx0ZW0gVmVybWlldGVyIGJlc3ByZWNoZW4vdmVyZWluYmFyZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUzWlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUzWlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImMyNzliYTFiLWFmZTctNGU4Mi05ZDc0LWVhMzg1OGFjZGIxMFwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiRWluenVnc3Rlcm1pbiBtaXQgbmV1ZW0gVmVybWlldGVyIGJlc3ByZWNoZW4vdmVyZWluYmFyZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUyWlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUyWlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImM1Y2I3OWVjLTc3ZGMtNDFlNy1iNWQ1LTM4ZTA0ODZkNzcxMFwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiR2dmLiBTb25kZXJ1cmxhdWIgYmVpIEFyYmVpdGdlYmVyIGVpbnJlaWNoZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUxWlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDUxWlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcImJkYmRmOTNiLWEyOTAtNDVkZi04NjUyLTNlNGEzMTc0MmExN1wiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiRW50c2NoZWlkZW4sIG9iIG1hbiBmw7xyIGRpZSBFbmRyZWluaWd1bmcgZGVyIFdvaG51bmcgZWluIFJlaW5pZ3VuZ3NpbnN0aXR1dCBiZWF1ZnRyYWd0IG9kZXIgZGllIFdvaG51bmcgc2VsYnN0IHB1dHp0XCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA1MFpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA1MFpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCIzZTg4OTc5OS1hNTQxLTQ4ZDktYTkxOC1hYTA3NzcwZGRjMTZcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIkVudHNjaGVpZGVuLCBvYiBtYW4gZsO8ciBkZW4gVW16dWcgZWluIFVtenVnc3VudGVybmVobWVuIGJlYXVmdHJhZ3Qgb2RlciBkZW4gVW16dWcgc2VsYnN0IGR1cmNoZsO8aHJ0XCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0OVpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0OVpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCJiNTQ1ZjAwYS1jY2Q3LTQ0N2EtYWE1MC0yNjEzN2Q0MzAwYmZcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIkdnZi4gd2VpdGVyZSBVbXp1Z3NoZWxmZXIgb3JnYW5pc2llcmVuXCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0OFpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0OFpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCI2OWZmYWU2OC01ZWU1LTRkNzgtYWM3MS1iNzQ2OWU3NjVkZjFcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIk9mZmVydGVuIGJlaSBVbXp1Z3N1bnRlcm5laG1lbiB1bmQvb2RlciBSZWluaWd1bmdzaW5zdGl0dXQgZWluaG9sZW5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ3WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ3WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjgyZDUxZmRlLWYxY2UtNDhmZS1hZjcxLTBhNDUyMzQwMjhiM1wiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiTmV1ZSBXb2hudW5nIGF1c21lc3NlbiwgYnp3LiBHcnVuZHJpc3NwbGFuIGbDvHIgZGllIG5ldWUgV29obnVuZyBhbmZvcmRlcm5cIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ2WlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQ2WlwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIl9pZFwiOiBcIjg0MWY1NmIxLTdkNGEtNDI1NS04ODIyLWZiMDFkOTViMmU0ZVwiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiRWlucmljaHR1bmcgZGVyIG5ldWVuIFdvaG51bmcgcGxhbmVuXCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0NVpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0NVpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCIwNTI4N2I3My1mNDcxLTQzZDQtYmYxYy0yYzIwOTczOWIzYjJcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIkdnZi4gTmV1YW5zY2hhZmZ1bmdlbiBhbiBuZXVlIEFkcmVzc2UgYmVzdGVsbGVuXCIsXHJcbiAgICAgIFwiZGF5c1wiOiA5MCxcclxuICAgICAgXCJkYXlzX2FmdGVyX21vdmVcIjogMCxcclxuICAgICAgXCJfb3duZXJcIjogXCIzZDQ2YmZhYS0wNWM3LTRlZjktYmY1Zi00YWQzN2ZiNDkzZDJcIixcclxuICAgICAgXCJfdXBkYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0NFpcIixcclxuICAgICAgXCJfY3JlYXRlZERhdGVcIjogXCIyMDE4LTExLTMwVDEyOjQ1OjIyLjA0NFpcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgXCJfaWRcIjogXCI0MTk2NmJmZi1kMzc3LTQwYWYtYjM1My1mZmYwYmMwYTk1ZjdcIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIk1pdGdsaWVkc2NoYWZ0ZW4gdW5kIEFib3Mga8O8bmRpZ2VuLCBiencuIMO8YmVyIFVtenVnIGluZm9ybWllcmVuICh6LmIuIFZlcmVpbmUsIFplaXRzY2hyaWZ0ZW4sIEt1bmRlbmthcnRlbilcIixcclxuICAgICAgXCJkYXlzXCI6IDkwLFxyXG4gICAgICBcImRheXNfYWZ0ZXJfbW92ZVwiOiAwLFxyXG4gICAgICBcIl9vd25lclwiOiBcIjNkNDZiZmFhLTA1YzctNGVmOS1iZjVmLTRhZDM3ZmI0OTNkMlwiLFxyXG4gICAgICBcIl91cGRhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQzWlwiLFxyXG4gICAgICBcIl9jcmVhdGVkRGF0ZVwiOiBcIjIwMTgtMTEtMzBUMTI6NDU6MjIuMDQzWlwiXHJcbiAgICB9XHJcbiAgXTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qXHJcbiAgQXBwXHJcbiovXHJcbmNvbnN0IG1vZHVsZXMgPSBbXTtcclxubGV0IGN1cnJWaWV3LCBjdXJyTW9kZWw7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkKG1vZHVsZU5hbWUsIE0sIFYsIEMpIHtcclxuICAgIGNvbnN0IHZpZXcgPSBjdXJyVmlldyA9IG5ldyBWKCk7XHJcbiAgICBjb25zdCBtb2RlbCA9IGN1cnJNb2RlbCA9IG5ldyBNKCk7XHJcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEMoKTtcclxuICAgIG1vZGVsLmluaXQoKTtcclxuXHJcbiAgICByZXR1cm4gKG1vZHVsZXNbbW9kdWxlTmFtZV0gPSB7XHJcbiAgICAgICAgbW9kZWw6IG1vZGVsLFxyXG4gICAgICAgIHZpZXc6IHZpZXcsXHJcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlclxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQobW9kdWxlTmFtZSkge1xyXG4gICAgcmV0dXJuIG1vZHVsZXNbbW9kdWxlTmFtZV07XHJcbn1cclxuXHJcbi8qXHJcbiAgTW9kZWxcclxuKi9cclxuZXhwb3J0IGNsYXNzIE1vZGVsIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRyZWUgPSB7fTtcclxuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgc2V0UHJlOiBbXSxcclxuICAgICAgICAgICAgc2V0UG9zdDogW10sXHJcbiAgICAgICAgICAgIGNoYW5nZTogW11cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgLy8gUnVuIGFueSBjYWxsYmFja3MgcmVnaXN0ZXJlZCBkdXJpbmcgaW5zdGFudGlhdGlvblxyXG4gICAgICAgIGZvciAodmFyIHAgaW4gdGhpcy5jYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzLmhhc093blByb3BlcnR5KHApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bkNhbGxiYWNrcyhwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRQcmUocHJvcHMpIHtcclxuICAgICAgICAvLyBBbGxvd3MgdmFsaWRhdGlvbiBldGMuIGJlZm9yZSBzZXR0aW5nIHByb3BzXHJcbiAgICAgICAgLy8gYHByb3BzYCBpcyBhIGNvcHkgdGhhdCBjYW4gYmUgc2FmZWx5IG11dGF0ZWRcclxuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrc1tcInNldFByZVwiXTtcclxuICAgICAgICBsZXQgaSA9IGNhbGxiYWNrcy5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgICAgICBwcm9wcyA9IGNhbGxiYWNrc1tpXS5jYWxsKHRoaXMsIHByb3BzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByb3BzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBvc3QocHJvcHMpIHtcclxuICAgICAgICAvLyBSdW5zIGNhbGxiYWNrcyBhZnRlciBgc2V0KClgIHdoZXRoZXIgbW9kZWwgY2hhbmdlZCBvciBub3RcclxuICAgICAgICB0aGlzLnJ1bkNhbGxiYWNrcyhcInNldFBvc3RcIik7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlKCkge1xyXG4gICAgICAgIC8vIFJ1bnMgY2FsbGJhY2tzIGFmdGVyIGBzZXQoKWAgaWYgbW9kZWwgY2hhbmdlZFxyXG4gICAgICAgIHRoaXMucnVuQ2FsbGJhY2tzKFwiY2hhbmdlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldChwcm9wc09yUGF0aCwgdmFsdWUpIHtcclxuICAgICAgICAvLyBBY2NlcHRzIHByb3BzIG9iamVjdCBgey4uLn1gIE9SICdwYXRoJywgJ3ZhbHVlJ1xyXG4gICAgICAgIGxldCBjaGFuZ2VFdmVudDtcclxuXHJcbiAgICAgICAgaWYgKGlzT2JqZWN0KHByb3BzT3JQYXRoKSkge1xyXG4gICAgICAgICAgICAvLyBSdW4gYW55IFwic2V0UHJlXCIgY2FsbGJhY2tzIG9uIGEgY29weSBvZiBgcHJvcHNgXHJcbiAgICAgICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5zZXRQcmUobWVyZ2Uoe30sIHByb3BzT3JQYXRoKSk7XHJcbiAgICAgICAgICAgIG1lcmdlKHRoaXMudHJlZSwgcHJvcHMsIGlzQ2hhbmdlZCA9PiBjaGFuZ2VFdmVudCA9IGlzQ2hhbmdlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gcHJvcHNPclBhdGg7XHJcbiAgICAgICAgICAgIC8vIFJ1biBhbnkgXCJzZXRQcmVcIiBjYWxsYmFja3NcclxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnNldFByZSh7IFtwYXRoXTogdmFsdWUgfSlbcGF0aF07XHJcbiAgICAgICAgICAgIGNoYW5nZUV2ZW50ID0gc2V0Tm9kZSh0aGlzLnRyZWUsIHBhdGgsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYW5nZUV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0UG9zdCgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzOyAvLyBGb3IgY2hhaW5pbmdcclxuICAgIH1cclxuXHJcbiAgICBnZXQocGF0aCkge1xyXG4gICAgICAgIHJldHVybiBnZXROb2RlKHRoaXMudHJlZSwgcGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgb24obGFiZWwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbbGFiZWxdO1xyXG4gICAgICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2tzLnVuc2hpZnQoY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpczsgLy8gRm9yIGNoYWluaW5nXHJcbiAgICB9XHJcblxyXG4gICAgcnVuQ2FsbGJhY2tzKGxhYmVsKSB7XHJcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3NbbGFiZWxdO1xyXG4gICAgICAgIGxldCBpID0gY2FsbGJhY2tzLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrc1tpXS5jYWxsKHRoaXMsIHRoaXMudHJlZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRvSlNPTigpIHtcclxuICAgICAgICAvLyBSZXR1cm4gdHJlZSBmb3IgSlNPTi5zdHJpbmdpZnkoKVxyXG4gICAgICAgIHJldHVybiB0aGlzLnRyZWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgVmlld1xyXG4qL1xyXG5leHBvcnQgY2xhc3MgVmlldyB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLy8gRGVyaXZlZCBjbGFzcyBtdXN0IGFzc2lnbiBgZWxgIHByb3BlcnR5XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0KHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qXHJcbiAgQ29udHJvbGxlclxyXG4qL1xyXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IGN1cnJNb2RlbDtcclxuICAgICAgICBpZiAoY3VyclZpZXcuZWwpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3ID0gY3VyclZpZXc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyAobmV3IEVycm9yKCdWaWV3LmVsIHJlcXVpcmVkIScpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3Vyck1vZGVsID0gbnVsbDtcclxuICAgICAgICBjdXJyVmlldyA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgYmluZChiaW5kaW5ncykge1xyXG4gICAgICAgIC8vIFJ1biBiaW5kaW5nIGZ1bmN0aW9ucyBmb3Igc2VsZWN0b3JzICh3aXRoaW4gdmlldy5lbClcclxuICAgICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIGluIGJpbmRpbmdzKSB7XHJcbiAgICAgICAgICAgIGlmIChiaW5kaW5ncy5oYXNPd25Qcm9wZXJ0eShzZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvbUVscyA9IHRoaXMudmlldy5lbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGxldCBpID0gZG9tRWxzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBiaW5kaW5nc1tzZWxlY3Rvcl0uY2FsbCh0aGlzLCBkb21FbHNbaV0sIHRoaXMubW9kZWwsIHRoaXMudmlldywgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7IC8vIEZvciBjaGFpbmluZ1xyXG4gICAgfVxyXG59XHJcblxyXG4vKlxyXG4gIFV0aWxzXHJcbiovXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KG8pIHtcclxuICAgIHJldHVybiBvID09PSBPYmplY3QobykgJiZcclxuICAgICAgICAhby5ub2RlVHlwZSAmJlxyXG4gICAgICAgICFBcnJheS5pc0FycmF5KG8pICYmXHJcbiAgICAgICAgISh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJykgJiZcclxuICAgICAgICAhKG8gaW5zdGFuY2VvZiBSZWdFeHApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc051bWVyaWModmFsKSB7XHJcbiAgICByZXR1cm4gTnVtYmVyKHBhcnNlRmxvYXQodmFsKSkgPT0gdmFsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Tm9kZSh0cmVlLCBwYXRoU3RyLCB2YWx1ZSkge1xyXG4gICAgLy8gU2V0IG5vZGUgYXQgcGF0aCBzdHJpbmcgdG8gdmFsdWVcclxuICAgIC8vIEFueSBtaXNzaW5nIG5vZGVzIGFyZSBjcmVhdGVkXHJcbiAgICAvLyBOT1RFOiBhbGwgbnVtZXJpYyBub2RlcyBiZWxvdyByb290IGFyZSBhc3N1bWVkIHRvIGJlIGFycmF5IGluZGV4ZXNcclxuICAgIC8vIFJldHVybnMgYm9vbGVhbiBgdHJ1ZWAgaWYgdmFsdWUgd2FzIGNoYW5nZWRcclxuICAgIGxldCBpc0NoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICBnZXROb2RlKHRyZWUsIHBhdGhTdHIsIChjdXJyTm9kZSwgcHJvcCwgbmV4dFByb3ApID0+IHtcclxuICAgICAgICAvLyBMYXN0IHNlZ21lbnQgb2YgcGF0aCBzdHJpbmcsIHNldCB2YWx1ZSBpZiBkaWZmZXJlbnRcclxuICAgICAgICBpZiAobmV4dFByb3AgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsID0gY3Vyck5vZGVbcHJvcF07XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gY3VyclZhbCkge1xyXG4gICAgICAgICAgICAgICAgY3Vyck5vZGVbcHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRWxzZSBjcmVhdGUgYW55IG1pc3Npbmcgbm9kZXMgaW4gcGF0aFxyXG4gICAgICAgIGVsc2UgaWYgKGN1cnJOb2RlW3Byb3BdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGFycmF5IGlmIG5leHRQcm9wIGlzIG51bWVyaWMsIG90aGVyd2lzZSBhbiBvYmplY3RcclxuICAgICAgICAgICAgY3Vyck5vZGVbcHJvcF0gPSBpc051bWVyaWMobmV4dFByb3ApID8gW10gOiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpc0NoYW5nZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlKHRyZWUsIHBhdGhTdHIsIGVhY2hDYWxsYmFjaykge1xyXG4gICAgLy8gR2V0IG5vZGUgZnJvbSBwYXRoIHN0cmluZ1xyXG4gICAgLy8gT3B0aW9uYWwgYGVhY2hDYWxsYmFja2AgaXMgcGFzc2VkIChjdXJyTm9kZSwgcHJvcCwgbmV4dFByb3ApXHJcbiAgICAvLyBUaGlzIGFsbG93cyB0aGUgbmV4dCBub2RlIHRvIGJlIGNyZWF0ZWQgb3IgY2hhbmdlZCBiZWZvcmUgZWFjaCB0cmF2ZXJzYWxcclxuICAgIGNvbnN0IHBhdGhBcnIgPSBwYXRoU3RyLnNwbGl0KFwiLlwiKTtcclxuICAgIGxldCBjdXJyTm9kZSA9IHRyZWU7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhBcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBjb25zdCBwcm9wID0gcGF0aEFycltpXTtcclxuICAgICAgICBpZiAoZWFjaENhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGVhY2hDYWxsYmFjayhjdXJyTm9kZSwgcHJvcCwgcGF0aEFycltpICsgMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY3Vyck5vZGUgPT09IHVuZGVmaW5lZCkgYnJlYWs7XHJcbiAgICAgICAgZWxzZSBjdXJyTm9kZSA9IGN1cnJOb2RlW3Byb3BdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGN1cnJOb2RlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoIC8qIFttZXJnZUNoaWxkT2JzLF0ge30sIHt9IFssIC4uLl0gWywgY2FsbGJhY2tdICovKSB7XHJcbiAgICAvLyBBZGQgb3Igb3ZlcndyaXRlIGFsbCBwcm9wZXJ0aWVzIHJpZ2h0IHRvIGxlZnRcclxuICAgIC8vIEJ5IGRlZmF1bHQgY2hpbGQgb2JqZWN0cyBhcmUgbWVyZ2VkIHJlY3Vyc2l2ZWx5IChidXQgbm90IGFycmF5cylcclxuICAgIC8vIElmIGEgYm9vbGVhbiBpcyBzdXBwbGllZCwgaXQgYmVjb21lcyBgbWVyZ2VDaGlsZE9ic2AgdmFsdWUgdW50aWwgYW5vdGhlciBib29sZWFuIGlzIGZvdW5kXHJcbiAgICAvLyBJZiBhIGNhbGxiYWNrIGlzIHN1cHBsaWVkLCBpdCB3aWxsIHJlY2VpdmUgYSBib29sZWFuIGFyZ3VtZW50IGBpc0NoYW5nZWRgXHJcbiAgICBsZXQgbGV2ZWwgPSAwLFxyXG4gICAgICAgIGNoYW5nZUNvdW50ID0gMCxcclxuICAgICAgICBtZXJnZUNoaWxkT2JzID0gdHJ1ZSxcclxuICAgICAgICBjYWxsYmFjayxcclxuICAgICAgICByZXN1bHQgPSBydW4uYXBwbHkodGhpcywgWzAsIGFyZ3VtZW50c10pO1xyXG5cclxuICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soISFjaGFuZ2VDb3VudCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG5cclxuICAgIGZ1bmN0aW9uIHJ1bihsZXZlbCwgcGFyYW1zKSB7XHJcbiAgICAgICAgbGV0IHBhcmFtLFxyXG4gICAgICAgICAgICByZXRPYixcclxuICAgICAgICAgICAgcGFyYW1zQ291bnQgPSBwYXJhbXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBDaGlsZCBvYmplY3RzXHJcbiAgICAgICAgLy8gTWVyZ2UgaW50byBsZWZ0bW9zdCBwYXJhbSBpZiBhbiBvYmplY3QsIG9yIGNyZWF0ZSBvYmplY3QgdG8gbWVyZ2UgaW50b1xyXG4gICAgICAgIGlmIChsZXZlbCkge1xyXG4gICAgICAgICAgICByZXRPYiA9IGlzT2JqZWN0KHBhcmFtc1swXSkgPyBwYXJhbXNbMF0gOiB7fVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXNDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHBhcmFtID0gcGFyYW1zW2ldO1xyXG5cclxuICAgICAgICAgICAgLy8gVG9wIGxldmVsIHBhcmFtcyBtYXkgY29udGFpbiBvdGhlciBhcmd1bWVudHNcclxuICAgICAgICAgICAgaWYgKCFsZXZlbCAmJiBwYXJhbSAhPSBudWxsKSB7IC8vIGB1bmRlZmluZWRgIG9yIGBudWxsYFxyXG4gICAgICAgICAgICAgICAgLy8gRmlyc3Qgb2JqZWN0IGJlY29tZXMgcmV0dXJuZWQgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICAvLyBBbHNvIGFsbG93IGEgRE9NIG5vZGUgZm9yIG1lcmdpbmcgaW50b1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXRPYiAmJiBpc09iamVjdChwYXJhbSkgfHwgcGFyYW0ubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRPYiA9IHBhcmFtO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gYG1lcmdlQ2hpbGRPYnNgIGJvb2xlYW4gYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSBcImJvb2xlYW5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlQ2hpbGRPYnMgPSBwYXJhbTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIExhc3QgcGFzc2VkIGluIGZ1bmN0aW9uIGJlY29tZXMgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gcGFyYW07XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldE9iKSBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgaW4gcGFyYW0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJhbS5oYXNPd25Qcm9wZXJ0eShwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcmFtW3BdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBNZXJnZSBjaGlsZCBvYmplY3RzIChyZWN1cnNpdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lcmdlQ2hpbGRPYnMgJiYgaXNPYmplY3QodmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXRPYltwXSA9IHJ1bihsZXZlbCArIDEsIFtyZXRPYltwXSwgdmFsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbCAhPT0gcmV0T2JbcF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0T2JbcF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXRPYiB8fCB7fTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQm9vdCBmcm9tIFwiLi9tb2R1bGVzL2Jvb3QvYm9vdFwiO1xyXG5pbXBvcnQgVG9Eb0Zvcm0gZnJvbSBcIi4vbW9kdWxlcy90b2RvRm9ybS90b2RvZm9ybVwiO1xyXG5cclxubmV3IEJvb3QoKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIG5ldyBUb0RvRm9ybSgpO1xyXG4gICAgfSk7XHJcbiIsIi8qXHJcbiAgQm9vdCBvcGVyYXRpb25zXHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlYWR5KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBhIGR1bW15IGNvbmRpdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKC9cXHcvLnRlc3QobG9jYXRpb24uaHJlZikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJlamVjdCgnRXJyb3InKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbn07XHJcbiIsImltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi4vLi4vbGliL2FwcFwiO1xyXG5pbXBvcnQgKiBhcyBkYXRhIGZyb20gXCIuLi8uLi9qc29uL2RhdGFcIjtcclxuXCJ1c2Ugc3RyaWN0XCJcclxuXHJcbi8qXHJcbiAgRXh0ZW5kcyBgYXBwLkNvbnRyb2xsZXJgXHJcbiAgICAgIFByb3BlcnRpZXM6IGBtb2RlbGAsIGB2aWV3YFxyXG4gICAgICBNZXRob2RzOiBgYmluZCgpYCBmb3IgRE9NIHNlbGVjdG9yc1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIGFwcC5Db250cm9sbGVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubW9kZWwub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb2RlbCBjaGFuZ2VkIGZyb20gY29udHJvbGxlciAnLCBlKTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJUb0RvSXRlbXMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cub25tZXNzYWdlID0gZXZlbnQgPT4ge3RoaXMucmVnaXN0ZXJPbk1lc3NhZ2VSZWNlaXZlZEhhbmRsZXIoZXZlbnQpfTtcclxuICAgICAgICB0aGlzLmJpbmQoe1xyXG4gICAgICAgICAgICAnI2FkZEJ0bic6IChlbCwgbW9kZWwsIHZpZXcsIGNvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsLm9uY2xpY2sgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9Eb0l0ZW0oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYmluZCh7XHJcbiAgICAgICAgICAgICcjZGVidWcnOiAoZWwsIG1vZGVsLCB2aWV3LCBjb250cm9sbGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlbC5vbmNsaWNrID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhdmVJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5iaW5kKHtcclxuICAgICAgICAgICAgJyN0b2RvbGlzdCc6IChlbCwgbW9kZWwsIHZpZXcsIGNvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGVsLm9uY2hhbmdlID0gKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLG1vZGVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmdldEl0ZW1zKCk7XHJcbiAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShkYXRhLCBcIipcIik7XHJcbiAgICAgICBcclxuICAgIH1cclxuICAgIHNhdmVJdGVtcygpe1xyXG4gICAgICAgIGxldCBtZXNzYWdlID0ge1wiZGF0YVRvU2F2ZVwiOiAoKT0+dGhpcy5tb2RlbC5nZXQoXCJ0YXNrc1wiKS50b0pTT04oKX07XHJcbiAgICAgICAgLy9sZXQgcW1PYmplY3QgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xyXG4gICAgICAgdGhpcy52aWV3LmdldChcIi5kZWJ1Z0FyZWFcIikuaW5uZXJIVE1MID0gIEpTT04uc3RyaW5naWZ5KHRoaXMubW9kZWwuZ2V0KFwidGFza3NcIikpO1xyXG4gICAgfVxyXG4gICAgLy9zZW5kIG9iamVjdCBub3QgbGl0ZXJhbFxyXG4gICAgZ2V0SXRlbXMoKSB7XHJcbiAgICAgICAgbGV0IHF1ZXJ5TWVzc2FnZVN0cmluZyA9ICd7XCJjb25zdW1lUmVxdWVzdFwiOiB7XCJrZXlcIiA6IFwiZGF5c1wiLCBcInBhcmFtXCI6IDkwLCBcImNvbGxlY3Rpb25OYW1lXCI6IFwiTW92ZW1lbnRUYXNrc1wifX0nO1xyXG4gICAgICAgIGxldCBxbU9iamVjdCA9IEpTT04ucGFyc2UocXVlcnlNZXNzYWdlU3RyaW5nKTtcclxuICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKHFtT2JqZWN0LCBcIipcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJPbk1lc3NhZ2VSZWNlaXZlZEhhbmRsZXIoZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFQUF9FTlY6IGluY29taW5nIGRhdGFcIiwgZXZlbnQpO1xyXG4gICAgICAgIGlmIChldmVudC5kYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQVBQX0VOVjogZGF0YSByZWNlaXZlZCBpbiByZWdpc3Rlck9uTWVzc2FnZVJlY2VpdmVkSGFuZGxlciBoYW5kbGVyXCIsIGV2ZW50KTtcclxuICAgICAgICAgICAgaWYoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLmhhc093blByb3BlcnR5KFwic2F2ZVwiKSl7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGV2ZW50LmRhdGEgKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsndGFza3MnIDogZXZlbnQuZGF0YS50YXNrc30pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY3JlYXRlR3VpZCgpe1xyXG4gICAgICAgICAgICByZXR1cm4gKFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+XHJcbiAgICAgICAgICAgICAgKGMgXiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSAmIDE1ID4+IGMgLyA0KS50b1N0cmluZygxNilcclxuICAgICAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgYWRkVG9Eb0l0ZW0oZWwpIHtcclxuICAgICAgICBsZXQgdGl0bGUgPSB0aGlzLnZpZXcuZ2V0KFwiI3RvZG9cIikudmFsdWU7XHJcbiAgICAgICAgbGV0IGd1aWQgPSB0aGlzLmNyZWF0ZUd1aWQoKTtcclxuICAgICAgICBkYXRhLnRhc2tzLnB1c2goeydfaWQnOiBndWlkLCAndGl0bGUnOiB0aXRsZSwgJ3N0YXRlJzogXCJjdXN0b21cIiB9KTtcclxuICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKGRhdGEsIFwiKlwiKTtcclxuICAgICAgICB0aGlzLnZpZXcuZ2V0KFwiI3RvZG9cIikudmFsdWUgPSAnJztcclxuICAgIH1cclxuICAgIHNldE1vZGVsU3RhdGUoZWwpe1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3JlbW92ZSB0byBkbyBpdGVtJywgZWwucGF0aC5maWx0ZXIoKGUpPT5lLmluZGV4T2YoJ2xpJykhPT0tMSkpO1xyXG4gICAgICAgIGxldCBkYXRhc2V0PSBlbC5wYXRoLmZpbHRlcihlPT5lLnRhZ05hbWU9PT0nTEknKVswXS5kYXRhc2V0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGFzZXQpO1xyXG4gICAgICAgICAgIGRhdGEudGFza3MubWFwKGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgYXJyKXtcclxuICAgICAgICAgICAgaWYodmFsdWUuX2lkID09PSBkYXRhc2V0LmlkKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5zdGF0ZSA9IGRhdGFzZXQuc3RhdGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMubW9kZWwuc2V0KHsndGFza3MnOiBkYXRhLnRhc2tzfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJlbmRlclRvRG9JdGVtcygpIHtcclxuICAgICAgICAvLyBDbGljayBvbiBhIGNsb3NlIGJ1dHRvbiB0byBoaWRlIHRoZSBjdXJyZW50IGxpc3QgaXRlbVxyXG4gICAgICAgIGxldCBtb2RlbCA9IHRoaXMubW9kZWwuZ2V0KFwidGFza3NcIik7XHJcbiAgICAgICAgaWYoIW1vZGVsKSB7cmV0dXJuOyB9XHJcbiAgICAgICAgbGV0IGxpc3QgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwobW9kZWwsIChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBfY2xhc3MgPSBcIlwiO1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5zdGF0ZSA9PT0gXCJkZWxldGVkXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpdGVtLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBfY2xhc3MgPSBcImNoZWNrZWRcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYDxsaSBkYXRhLXN0YXRlPVwiJHshaXRlbS5zdGF0ZT9cImRlZmF1bHRcIjppdGVtLnN0YXRlfVwiIGRhdGEtaWQ9XCIke2l0ZW0uX2lkfVwiIGNsYXNzPVwiJHtfY2xhc3MgPyBcImNoZWNrZWRcIiA6IFwiXCJ9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWNvbnRhaW5lciAke19jbGFzc31cIj4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCIke19jbGFzcyA/IFwiY2hlY2tlZFwiIDogXCJcIn1cIj4ke2l0ZW0udGl0bGV9PHNwYW4gY2xhc3M9XCJjaGVja21hcmtcIj48L3NwYW4+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPjxzcGFuIGNsYXNzPVwiY2xvc2VcIj7Dlzwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPmBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy52aWV3LmdldChcIiN0b2RvbGlzdFwiKS5pbm5lckhUTUwgPSBsaXN0LmpvaW4oXCJcIik7XHJcbiAgICAgICAgbGV0IGNsb3NlID0gdGhpcy52aWV3LmdldEFsbChcInNwYW4uY2xvc2VcIik7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvc2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2xvc2VbaV0ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGkgPSBjbG9zZVtpXS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgbGkuZGF0YXNldC5zdGF0ZSA9IFwiZGVsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNb2RlbFN0YXRlKGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW5wdXRzID0gdGhpcy52aWV3LmdldEFsbChcImlucHV0XCIpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpbnB1dHNbaV0ub25jbGljayA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIGxldCBpID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuICAgICAgICBsZXQgbGlzdEVsZW1lbnRzID0gdGhpcy52aWV3LmdldEFsbChcImxpXCIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxpc3RFbGVtZW50c1tpXS5vbmNsaWNrID0gIChlKT0+IHtcclxuICAgICAgICAgICAgICAgIGlmKCBlLnNyY0VsZW1lbnQudGFnTmFtZT09PVwiU1BBTlwiKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIGxldCBsaTtcclxuICAgICAgICAgICAgICAgbGV0IGlucHV0O1xyXG4gICAgICAgICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lPT09J0xBQkVMJyl7XHJcbiAgICAgICAgICAgICAgICBsaSA9IGUuc3JjRWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaW5wdXQgPSBlLnNyY0VsZW1lbnQuY2hpbGRyZW5bMF07XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgaWYoZS50YXJnZXQudGFnTmFtZT09PSdTUEFOJyl7XHJcbiAgICAgICAgICAgICAgICAgICBsaSA9IGUuc3JjRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lPT09J0lOUFVUJyl7XHJcbiAgICAgICAgICAgICAgICBsaSA9IGUuc3JjRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICBpbnB1dCA9IGUuc3JjRWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBpZihlLnRhcmdldC50YWdOYW1lPT09J0xJJyl7XHJcbiAgICAgICAgICAgICAgICAgICBsaT1lLnNyY0VsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGxpLmNoaWxkcmVuWzBdLmNoaWxkcmVuWzBdO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgLy8gbGkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgY29uc29sZS5sb2cobGksIGlucHV0KTtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIGlmKGlucHV0LmNoZWNrZWQpe1xyXG4gICAgICAgICAgICAgICAgLy9saVtcImNsYXNzTGlzdFwiXS50b2dnbGUoXCJjaGVja2VkXCIpO1xyXG4gICAgICAgICAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgbGkuZGF0YXNldC5zdGF0ZSA9XCJjb21wbGV0ZWRcIjtcclxuICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsaS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAvL2xpW1wiY2xhc3NMaXN0XCJdLnRvZ2dsZShcImNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICBsaS5kYXRhc2V0LnN0YXRlID1cImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGlmKGxpW1wiY2xhc3NMaXN0XCJdLmNvbnRhaW5zKFwiY2hlY2tlZFwiKSl7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbGlbXCJjbGFzc0xpc3RcIl0udG9nZ2xlKFwiY2hlY2tlZFwiKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICBsaS5kYXRhc2V0LnN0YXRlID1cImNvbXBsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGlucHV0LmNoZWNrZWQ9dHJ1ZTtcclxuICAgICAgICAgICAgICAgIC8vIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGxpW1wiY2xhc3NMaXN0XCJdLnRvZ2dsZShcImNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgbGkuZGF0YXNldC5zdGF0ZSA9XCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgaW5wdXQuY2hlY2tlZD1mYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNb2RlbFN0YXRlKGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbiIsImltcG9ydCAqIGFzIGFwcCBmcm9tIFwiLi4vLi4vbGliL2FwcFwiO1xyXG5pbXBvcnQgKiBhcyB0YXNrcyAgIGZyb20gXCIuLi8uLi9qc29uL2RhdGFcIlxyXG5cInVzZSBzdHJpY3RcIlxyXG5cclxuLypcclxuICBFeHRlbmRzIGFwcC5Nb2RlbFxyXG4gICAgICBNZXRob2RzOiBgc2V0KClgLCBgZ2V0KClgLCBgb24oJ3NldFByZSd8J3NldFBvc3QnfCdjaGFuZ2UnKWBcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBhcHAuTW9kZWwge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICBcclxuICAgICAgICB0aGlzLm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbW9kZWwgY2hhbmdlZCBmcm9tIGJhc2UgbW9kZWw6ICcsIGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2FuaXRpemUgPSBwcm9wcyA9PiB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHApICYmIHR5cGVvZiBwcm9wc1twXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3BdID0gcHJvcHNbcF0ucmVwbGFjZSgvW15cXHdcXHMnIS4sO10vZywgJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9wcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCBsaXN0ZW5lclxyXG4gICAgICAgIHRoaXMub24oJ3NldFByZScsIHByb3BzID0+IHRoaXMuc2FuaXRpemUocHJvcHMpKTtcclxuICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2V0KHsndGFza3MnOiB7fX0pO1xyXG4gICAgICAgIC8vIFNldCBieSBwYXRoXHJcbiAgICAgICAvLyB0aGlzLnNldCgndXNlci5uYW1lJywgJ0d1ZXN0Jyk7XHJcbiAgICB9XHJcblxyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBhcHAgZnJvbSBcIi4uLy4uL2xpYi9hcHBcIjtcclxuaW1wb3J0IE1vZGVsIGZyb20gXCIuL21vZGVsXCJcclxuaW1wb3J0IFZpZXcgZnJvbSBcIi4vdmlld1wiXHJcbmltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJcIlxyXG5cclxuXCJ1c2Ugc3RyaWN0XCJcclxuXHJcbi8qXHJcbiAgRXhhbXBsZSBtb2R1bGVcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHJldHVybiBhcHAuYWRkKFwiVG9Eb0Zvcm1cIiwgTW9kZWwsIFZpZXcsIENvbnRyb2xsZXIpO1xyXG4gICAgfVxyXG5cclxufTtcclxuIiwiaW1wb3J0ICogYXMgYXBwIGZyb20gXCIuLi8uLi9saWIvYXBwXCI7XHJcblxyXG5cInVzZSBzdHJpY3RcIlxyXG5cclxuLypcclxuICBFeHRlbmRzIGFwcC5WaWV3XHJcbiAgICAgIFByb3BlcnRpZXM6IGBlbGBcclxuICAgICAgTWV0aG9kczogYGdldCgpYCwgYGdldEFsbCgpYCBmb3IgRE9NIHNlbGVjdG9yc1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIGFwcC5WaWV3IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICAvLyBTZXQgRE9NIHJlZlxyXG4gICAgICAgIHRoaXMuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZG9zZWN0aW9uXCIpO1xyXG4gICAgfVxyXG5cclxufTtcclxuIl19
